(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4659fc30"],{"970e":function(t,e,a){"use strict";var l=a("aca0"),r=a.n(l);r.a},aca0:function(t,e,a){},bbd5:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"a",(function(){return o}));a("5c96");var l=a("c46f");function r(t){return 0===t.indexOf("icon-")?"iconfont ".concat(t):0===t.indexOf("el-icon-")?t:""}function n(t){var e=0;return t instanceof Array||t.offsetHeight?(t instanceof Array?l["a"].each(t,(function(t){try{e+=parseInt(t.offsetHeight)}catch(a){console.error(a)}})):e=parseInt(t.offsetHeight),"calc(100% - ".concat(e,"px)")):""}function i(t,e,a){a&&a(),t.style.height=n(e),window.addEventListener("resize",(function(){t.style.height=n(e),a&&a()}))}function o(t){var e=t.data,a=t.pageSize,r=t.currentPage,n=r-1;return l["a"].filter(e,(function(t,e){return e>=n*a&&e<r*a}))}},e299:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{ref:"queryBar",staticClass:"tw-query-bar",attrs:{model:t.query,inline:!0,size:"small"}},[a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"平台名称"},model:{value:t.query.ptname,callback:function(e){t.$set(t.query,"ptname",e)},expression:"query.ptname"}},t._l(this.OnlyCompany,(function(t){return a("el-option",{key:t.ID,attrs:{label:t.TEXT,value:t.ID}})})),1)],1),a("el-form-item",[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.handleQuerySearch,placeholder:"车牌号码","trigger-on-focus":!1,clearable:""},on:{focus:t.handleCarfocus},model:{value:t.query.vehino,callback:function(e){t.$set(t.query,"vehino",e)},expression:"query.vehino"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.querySearchCar}},[t._v("查询")])],1)],1),a("div",{ref:"queryPanel",staticClass:"tw-query-panel"},[a("el-card",{staticClass:"tw-card tw-card-full",attrs:{"body-style":{padding:0},header:"车辆基本信息"}},[a("el-form",{ref:"vehicleBaseInfo",staticClass:"tw-form",attrs:{"label-position":t.labelPosition,inline:!0,size:"small","label-width":"150px"},model:{value:t.clxxForm,callback:function(e){t.clxxForm=e},expression:"clxxForm"}},[a("el-form-item",{attrs:{label:"平台名称"}},[a("el-input",{attrs:{value:t.clxxForm.COMPANYNAME,readonly:""}})],1),a("el-form-item",{attrs:{label:"行政区划"}},[a("el-input",{attrs:{value:t.clxxForm.ADDRESS,readonly:""}})],1),a("el-form-item",{attrs:{label:"车牌号码"}},[a("el-input",{attrs:{value:t.clxxForm.VEHICLENO,readonly:""}})],1),a("el-form-item",{attrs:{label:"车牌颜色"}},[a("el-input",{attrs:{value:t.clxxForm.PLATECOLOR,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆类型"}},[a("el-input",{attrs:{value:t.clxxForm.VEHICLETYPE,readonly:""}})],1),a("el-form-item",{attrs:{label:"核定载客位"}},[a("el-input",{attrs:{value:t.clxxForm.SEATS,readonly:""}})],1),a("el-form-item",{attrs:{label:"报备日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.clxxForm.UPDATETIME),readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆型号"}},[a("el-input",{attrs:{value:t.clxxForm.MODEL,readonly:""}})],1),a("el-form-item",{attrs:{label:"运价类型"}},[a("el-input",{attrs:{value:t.clxxForm.FARETYPE,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆品牌"}},[a("el-input",{attrs:{value:t.clxxForm.BRAND,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆所有人"}},[a("el-input",{attrs:{value:t.clxxForm.OWNERNAME,readonly:""}})],1),a("el-form-item",{attrs:{label:"发动机号"}},[a("el-input",{attrs:{value:t.clxxForm.ENGINEID,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆VIN码"}},[a("el-input",{attrs:{value:t.clxxForm.VIN,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆燃料类型"}},[a("el-input",{attrs:{value:t.clxxForm.FUELTYPE,readonly:""}})],1),a("el-form-item",{attrs:{label:"发动机排量"}},[a("el-input",{attrs:{value:t.clxxForm.ENGINEDISPLACE,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆运输证发证机构"}},[a("el-input",{attrs:{value:t.clxxForm.TRANSAGENCY,readonly:""}})],1),a("el-form-item",{attrs:{label:"发票打印设备序列号"}},[a("el-input",{attrs:{value:t.clxxForm.FEEPRINTID,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆运输证有效期起"}},[a("el-input",{attrs:{value:t.timeFormatter(t.clxxForm.TRANSDATESTART),readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆运输证有效期止"}},[a("el-input",{attrs:{value:t.timeFormatter(t.clxxForm.TRANSDATESTOP),readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆年度审验状态"}},[a("el-input",{attrs:{value:t.clxxForm.CHECKSTATE,readonly:""}})],1),a("el-form-item",{attrs:{label:"卫星定位装置品牌"}},[a("el-input",{attrs:{value:t.clxxForm.GPSBRAND,readonly:""}})],1),a("el-form-item",{attrs:{label:"卫星定位装置型号"}},[a("el-input",{attrs:{value:t.clxxForm.GPSMODEL,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆初次领证日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.clxxForm.CERTIFYDATEA),readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆检修状态"}},[a("el-input",{attrs:{value:t.clxxForm.FIXSTATE,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆下次年检时间"}},[a("el-input",{attrs:{value:t.clxxForm.NEXTFIXDATE,readonly:""}})],1),a("el-form-item",{attrs:{label:"卫星定位装置IMEI号"}},[a("el-input",{attrs:{value:t.clxxForm.GPSIMEI,readonly:""}})],1),a("el-form-item",{attrs:{label:"车辆注册日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.clxxForm.CERTIFYDATEA),readonly:""}})],1),a("el-form-item",{attrs:{label:"卫星定位安装日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.clxxForm.GPSINSTALLDATE),readonly:""}})],1)],1),a("el-tabs",{ref:"tabPanel",staticClass:"tw-tabs",on:{"tab-click":t.tabHandleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.clxxTabLists,(function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}},[a("el-table",{staticClass:"tw-table",attrs:{data:e.data,border:"",size:"small",height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t._l(e.column,(function(t){return a("el-table-column",{key:t.name,attrs:{prop:t.name,label:t.title,width:t.width,formatter:t.formatter,"min-width":t["min-width"]}})}))],2)],1)})),1)],1)],1)],1)},r=[],n=a("c46f"),i=a("bc3a"),o=a.n(i),s=a("c1df"),m=a.n(s),c=a("bbd5"),u={name:"IntegratedCarQuery",data:function(){return{query:{ptname:"",vehino:"",veNum:""},OnlyCompany:[],activeName:"first",labelPosition:"right",clxxForm:{},clxxTabLists:[{name:"first",label:"车辆保险信息",data:[],column:[{name:"COMPANYNAME",title:"平台名称",width:150},{name:"VEHICLENO",title:"车牌号码",width:100},{name:"INSURCOM",title:"保险公司",width:200},{name:"INSURNUM",title:"保险号",width:100},{name:"INSURTYPE",title:"保险类型",width:180},{name:"INSURCOUNT",title:"保险金额",width:150},{name:"INSUREFF",title:"保险生效时间",formatter:this.timeTableFormatter,width:150},{name:"UPDATETIME",title:"更新时间",formatter:this.timeTableFormatter,"min-width":180,resizable:!0}]},{name:"second",label:"车辆里程信息",data:[],column:[{name:"COMPANYNAME",title:"平台名称",width:150},{name:"ADDRESS",title:"注册地行政区划代码",width:100},{name:"VEHICLENO",title:"车牌号码",width:100},{name:"TOTALMILE",title:"行驶总里程",width:100},{name:"UPDATETIME",title:"更新时间",formatter:this.timeTableFormatter,width:150},{name:"FLAG",title:"操作标识",formatter:this.flagFormatter,"min-width":180,resizable:!0}]}]}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$refs["queryBar"].$el;Object(c["d"])(t.$refs["queryPanel"],e,(function(){t.$refs["tabPanel"].$el.style.height=Object(c["b"])(t.$refs["vehicleBaseInfo"].$el)})),t.getCompany(),setTimeout((function(){t.$refs["tabPanel"].$el.style.height=Object(c["b"])(t.$refs["vehicleBaseInfo"].$el)}),100)}))},computed:{},methods:{querySearchCar:function(){this.query.vehino.length<5?this.$message("请输入正确的车牌号码"):this.getData()},timeFormatter:function(t){if(null!=t)return m()(t).format("YYYY-MM-DD HH:mm:ss")},timeTableFormatter:function(t,e,a){if(null!=a)return m()(a).format("YYYY-MM-DD HH:mm:ss")},getData:function(){var t=this,e="postData={'ptname':'".concat(this.query.ptname,"','vehino':'").concat(this.query.vehino,"'}");o.a.post("manage/findClxx",e,{baseURL:this.baseURL}).then((function(e){e.data;t.clxxTabLists[0].data=e.data.clbx,t.clxxForm={},e.data.clxx[0]?t.clxxForm=e.data.clxx[0]:t.$message("暂无数据")}))},getCompany:function(){var t=this;o.a.post("manage/findOnlyCompany","",{baseURL:this.baseURL}).then((function(e){var a=e.data;t.OnlyCompany=n["a"].filter(a,(function(t){return t.ID}))}))},handleQuerySearch:function(t,e){if(t.length>=5){var a="postData={'vehino':'".concat(t,"'}");o.a.post("manage/findJcVehicleNo",a,{baseURL:this.baseURL}).then((function(t){for(var a=t.data,l=0;l<a.vehicleNo.length;l++)a.vehicleNo[l].value=a.vehicleNo[l].VEHICLENO;e(a.vehicleNo)}))}},handleCarfocus:function(){var t=this.query.vehino;""===t&&(this.query.vehino="浙A")},tabHandleClick:function(t,e){var a=this;if("车辆里程信息"===e.target.textContent){var l="postData={'ptname':'".concat(this.query.ptname,"','vehino':'").concat(this.query.vehino,"'}");o.a.post("manage/findCarClxx",l,{baseURL:this.baseURL}).then((function(t){var e=t.data;a.clxxTabLists[1].data=e.cllc}))}},flagFormatter:function(t,e,a){return"1"==a?"新增":"2"==a?"更新":"删除"},stateFormatter:function(t,e,a){return"0"==a?"有效":"1"==a?"失效":a}}},f=u,d=(a("970e"),a("2877")),h=Object(d["a"])(f,l,r,!1,null,"634b5ae5",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-4659fc30.a790c4f7.js.map