(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4bcd5e8"],{"11e9":function(e,t,a){var l=a("52a7"),r=a("4630"),n=a("6821"),o=a("6a99"),i=a("69a8"),s=a("c69a"),c=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?c:function(e,t){if(e=n(e),t=o(t,!0),s)try{return c(e,t)}catch(a){}if(i(e,t))return r(!l.f.call(e,t),e[t])}},"234e":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{ref:"queryBar",staticClass:"tw-query-bar",attrs:{model:e.query,inline:!0,size:"small"}},[a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"平台名称"},model:{value:e.query.ptname,callback:function(t){e.$set(e.query,"ptname",t)},expression:"query.ptname"}},e._l(e.getAutoCompanyName,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-select",{attrs:{clearable:""},model:{value:e.query.key,callback:function(t){e.$set(e.query,"key",t)},expression:"query.key"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.handleQuerySearch,placeholder:"车牌号码","trigger-on-focus":!1,clearable:""},on:{focus:e.handleCarfocus},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}})],1),a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始日期"},model:{value:e.query.stime,callback:function(t){e.$set(e.query,"stime",t)},expression:"query.stime"}})],1),a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期"},model:{value:e.query.etime,callback:function(t){e.$set(e.query,"etime",t)},expression:"query.etime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleQueryClick}},[e._v("查询")])],1)],1),a("div",{ref:"queryPanel",staticClass:"tw-query-panel"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"tw-table",attrs:{data:e.table.data,border:"",size:"small",height:"calc(100% - 352px)"},on:{"row-dblclick":e.handleConpanyNameRowClick}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"COMPANYNAME",label:"平台名称"}}),a("el-table-column",{attrs:{prop:"ADDRESS",label:"行政区划"}}),a("el-table-column",{attrs:{prop:"ORDERID",label:"订单编号"}}),a("el-table-column",{attrs:{prop:"LICENSEID",label:"机动车驾驶证编号"}}),a("el-table-column",{attrs:{prop:"DRIVERPHONE",label:"驾驶员手机号"}}),a("el-table-column",{attrs:{prop:"VEHICLENO",label:"车辆号牌"}}),a("el-table-column",{attrs:{prop:"DISTRIBUTETIME",label:"派单时间",formatter:e.timeFormatter,resizable:!1}})],1),a("el-pagination",{staticClass:"tw-page-bar",attrs:{background:"","page-size":e.table.pageSize,"current-page":e.table.currentPage,total:e.table.total},on:{"current-change":e.handleTablePageCurrentChange}}),a("el-tabs",{staticClass:"tw-tab-info",on:{"tab-click":e.tabsClick},model:{value:e.activeTableName,callback:function(t){e.activeTableName=t},expression:"activeTableName"}},[a("el-tab-pane",{attrs:{label:"经营出发",name:"third"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table3Loading,expression:"table3Loading"}],staticClass:"tw-table",attrs:{data:e.table3Data,border:"",size:"small",height:"250"}},[a("el-table-column",{attrs:{prop:"ABB_NAME",label:"平台名称"}}),a("el-table-column",{attrs:{prop:"ORDERID",label:"订单号"}}),a("el-table-column",{attrs:{prop:"LICENSEID",label:"机动车驾驶证号"}}),a("el-table-column",{attrs:{prop:"VEHICLENO",label:"车牌号码"}}),a("el-table-column",{attrs:{prop:"DEPTIME",label:"上车时间",formatter:e.time2Formatter}})],1)],1),a("el-tab-pane",{attrs:{label:"经营到达",name:"fourth"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table4Loading,expression:"table4Loading"}],staticClass:"tw-table",attrs:{data:e.table4Data,border:"",size:"small",height:"250"}},[a("el-table-column",{attrs:{prop:"ABB_NAME",label:"平台名称"}}),a("el-table-column",{attrs:{prop:"ORDERID",label:"订单号"}}),a("el-table-column",{attrs:{prop:"DESTTIME",label:"下车时间",formatter:e.time2Formatter}}),a("el-table-column",{attrs:{prop:"DRIVEMILE",label:"载客里程"}}),a("el-table-column",{attrs:{prop:"DRIVETIME",label:"载客时间"}})],1)],1),a("el-tab-pane",{attrs:{label:"支付信息",name:"first"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table1Loading,expression:"table1Loading"}],staticClass:"tw-table",attrs:{data:e.table1.data,border:"",size:"small",height:"250"}},[a("el-table-column",{attrs:{prop:"COMPANYNAME",label:"平台名称",width:"160"}}),a("el-table-column",{attrs:{prop:"ORDERID",label:"订单号",width:"160"}}),a("el-table-column",{attrs:{prop:"ONAREA",label:"上车位置行政区划编号",width:"220"}}),a("el-table-column",{attrs:{prop:"DRIVERNAME",label:"机动车驾驶员姓名",width:"150"}}),a("el-table-column",{attrs:{prop:"LICENSEID",label:"机动车驾驶证号",width:"150"}}),a("el-table-column",{attrs:{prop:"FARETYPE",label:"运价类型编码",width:"160"}}),a("el-table-column",{attrs:{prop:"VEHICLENO",label:"车辆号牌",width:"160"}}),a("el-table-column",{attrs:{prop:"WAITTIME",label:"等待时间",width:"120"}}),a("el-table-column",{attrs:{prop:"BOOKDEPTIME",label:"预计上车时间",formatter:e.timeFormatter,width:"150"}}),a("el-table-column",{attrs:{prop:"DEPAREA",label:"上车地点",width:"220"}}),a("el-table-column",{attrs:{prop:"DEPTIME",label:"上车时间",formatter:e.timeFormatter,width:"150"}}),a("el-table-column",{attrs:{prop:"DESTAREA",label:"下车地点",width:"220"}}),a("el-table-column",{attrs:{prop:"DESTTIME",label:"下车时间",formatter:e.timeFormatter,width:"150"}}),a("el-table-column",{attrs:{prop:"BOOKMODEL",label:"预定车型",width:"160"}}),a("el-table-column",{attrs:{prop:"MODEL",label:"实际使用车型",width:"160"}}),a("el-table-column",{attrs:{prop:"DRIVEMILE",label:"载客里程",width:"220"}}),a("el-table-column",{attrs:{prop:"DRIVETIME",label:"载客时间",width:"120"}}),a("el-table-column",{attrs:{prop:"WAITMILE",label:"空驶里程",width:"150"}}),a("el-table-column",{attrs:{prop:"FACTPRICE",label:"实收金额(元)",width:"160"}}),a("el-table-column",{attrs:{prop:"PRICE",label:"应收金额",width:"160"}}),a("el-table-column",{attrs:{prop:"ORDERMATCHTIME",label:"订单完成时间",formatter:e.timeFormatter,width:"150"}}),a("el-table-column",{attrs:{prop:"PAYTIME",label:"乘客结算时间",formatter:e.timeFormatter,width:"150"}})],1)],1),a("el-tab-pane",{attrs:{label:"投诉信息",name:"second"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table2Loading,expression:"table2Loading"}],staticClass:"tw-table",attrs:{data:e.table2Data,border:"",size:"small",height:"250"}},[a("el-table-column",{attrs:{prop:"COMPANYNAME",label:"平台名称"}}),a("el-table-column",{attrs:{prop:"ORDERID",label:"订单号"}}),a("el-table-column",{attrs:{prop:"COMPLAINTTIME",label:"投诉时间",formatter:e.time2Formatter}}),a("el-table-column",{attrs:{prop:"DETAIL",label:"投诉原因"}})],1)],1)],1)],1)],1)},r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("ade3")),o=a("bc3a"),i=a.n(o),s=(a("c46f"),a("2f62")),c=a("c1df"),b=a.n(c),u=a("bbd5");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"ComprehensiveOrderQuery",data:function(){return{activeTableName:"first",query:{ptname:"0",key:"",value:"",stime:"",etime:""},options:[{value:"驾驶证号",label:"驾驶证号"},{value:"车牌号码",label:"车牌号码"},{value:"驾驶员电话",label:"驾驶员电话"},{value:"订单编号",label:"订单编号"}],value:"",table:{data:[],loading:!1,pageSize:20,currentPage:1,total:0},table1:{data:[]},tableLoading:!1,table1Loading:!1,table2Loading:!1,table2Data:[],table3Loading:!1,table3Data:[],table4Loading:!1,table4Data:[],nowRow:{},isChanged:!1,changeCount:0}},computed:p({},Object(s["b"])(["getAutoCompanyName"])),mounted:function(){var e=this;this.$nextTick((function(){var t=e.$refs["queryBar"].$el;Object(u["d"])(e.$refs["queryPanel"],t),e.query.stime=b()(b()().format("YYYY-MM-DD 00:00:00")),e.query.etime=b()(b()().format("YYYY-MM-DD HH:mm:ss")),e.getDataList()}))},methods:{tabsClick:function(e,t){this.activeTableName=e.name,this.nowRow.ORDERID&&1!=this.changeCount&&this.isChanged&&(this.changeCount+=1,this.getDCompanyList(this.nowRow))},handleConpanyNameRowClick:function(e){this.nowRow=e,this.getDCompanyList(e)},getDataList:function(){var e=this,t=this.query,a=t.ptname,l=t.key,r=t.value,n=t.stime,o=t.etime,s=this.table,c=s.currentPage,u=s.pageSize,m=this.baseURL;if(n&&""!=n&&""!=o&&o){this.tableLoading=!0;var p="postData="+JSON.stringify({ptname:a,key:l,value:r,begintime:b()(n).format("YYYY-MM-DD HH:mm:ss"),endtime:b()(o).format("YYYY-MM-DD HH:mm:ss"),pageIndex:c,pageSize:u});i.a.post("manage/findDdxx",p,{baseURL:m}).then((function(t){try{var a=t.data.datas,l=t.data;e.table.data=a.slice(a.length-20,a.length),e.table.total=parseInt(l.count),e.tableLoading=!1}catch(r){}}))}else this.$message({message:"时间选项不能为空!!",type:"warning"})},getDCompanyList:function(e){var t=this;if("first"==this.activeTableName){this.table1Loading=!0;var a=this.baseURL,l="postData="+JSON.stringify({distributetime:b()(e.DISTRIBUTETIME).format("YYYY-MM-DD HH:mm:ss"),orderid:e.ORDERID});i.a.post("manage/findPay",l,{baseURL:a}).then((function(e){try{var a=e.data;t.table1.data=a.datas,setTimeout((function(){t.table1Loading=!1}),500)}catch(l){}}))}else if("second"==this.activeTableName){this.table2Loading=!0;var r=this.baseURL,n="postData="+JSON.stringify({orderid:e.ORDERID,distributetime:b()(e.DISTRIBUTETIME).format("YYYY-MM-DD HH:mm:ss")});i.a.post("manage/findComplaint",n,{baseURL:r}).then((function(e){try{var a=e.data;t.table2Data=a.datas,setTimeout((function(){t.table2Loading=!1}),500)}catch(l){}}))}else{if("third"==this.activeTableName){this.table3Loading=!0;var o=new URLSearchParams;return o.append("time",b()(e.DISTRIBUTETIME).format("YYYY-MM-DD HH:mm:ss")),o.append("orderid",e.ORDERID),i.a.post("map/businessStart",o,{baseURL:this.baseURL}).then((function(e){t.table3Data=e.data,setTimeout((function(){t.table3Loading=!1}),500)}))}if("fourth"==this.activeTableName){this.table4Loading=!0;var s=new URLSearchParams;return s.append("time",b()(e.DISTRIBUTETIME).format("YYYY-MM-DD HH:mm:ss")),s.append("orderid",e.ORDERID),i.a.post("map/businessArrival",s,{baseURL:this.baseURL}).then((function(e){t.table4Data=e.data,setTimeout((function(){t.table4Loading=!1}),500)}))}}},handleQueryClick:function(){this.table.currentPage=1,this.getDataList(),this.table1.data=[],this.table2Data=[],this.table3Data=[],this.table4Data=[]},timeFormatter:function(e,t,a){return b()(a).format("YYYY-MM-DD HH:mm:ss")},time2Formatter:function(e,t,a){return b()(a).format("YYYY-MM-DD HH:mm:ss")},handleTablePageCurrentChange:function(e){this.table.currentPage=e,this.getDataList()},handleQuerySearch:function(e,t){if(e.length>=5){var a="postData={'vehino':'".concat(e,"'}");i.a.post("manage/findJcVehicleNo",a,{baseURL:this.baseURL}).then((function(e){for(var a=e.data,l=0;l<a.vehicleNo.length;l++)a.vehicleNo[l].value=a.vehicleNo[l].VEHICLENO;t(a.vehicleNo)}))}},handleCarfocus:function(){var e=this.query.vehino;""===e&&(this.query.vehino="浙A")},ifRowChange:function(){this.changeCount=0,this.isChanged=!0}},watch:{nowRow:"ifRowChange"}},f=d,h=(a("bf45"),a("2877")),g=Object(h["a"])(f,l,r,!1,null,"27fe40a6",null);t["default"]=g.exports},"89bb":function(e,t,a){},"8e6e":function(e,t,a){var l=a("5ca1"),r=a("990b"),n=a("6821"),o=a("11e9"),i=a("f1ae");l(l.S,"Object",{getOwnPropertyDescriptors:function(e){var t,a,l=n(e),s=o.f,c=r(l),b={},u=0;while(c.length>u)a=s(l,t=c[u++]),void 0!==a&&i(b,t,a);return b}})},9093:function(e,t,a){var l=a("ce10"),r=a("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return l(e,r)}},"990b":function(e,t,a){var l=a("9093"),r=a("2621"),n=a("cb7c"),o=a("7726").Reflect;e.exports=o&&o.ownKeys||function(e){var t=l.f(n(e)),a=r.f;return a?t.concat(a(e)):t}},ade3:function(e,t,a){"use strict";function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return l}))},bbd5:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return i}));a("5c96");var l=a("c46f");function r(e){return 0===e.indexOf("icon-")?"iconfont ".concat(e):0===e.indexOf("el-icon-")?e:""}function n(e){var t=0;return e instanceof Array||e.offsetHeight?(e instanceof Array?l["a"].each(e,(function(e){try{t+=parseInt(e.offsetHeight)}catch(a){console.error(a)}})):t=parseInt(e.offsetHeight),"calc(100% - ".concat(t,"px)")):""}function o(e,t,a){a&&a(),e.style.height=n(t),window.addEventListener("resize",(function(){e.style.height=n(t),a&&a()}))}function i(e){var t=e.data,a=e.pageSize,r=e.currentPage,n=r-1;return l["a"].filter(t,(function(e,t){return t>=n*a&&t<r*a}))}},bf45:function(e,t,a){"use strict";var l=a("89bb"),r=a.n(l);r.a},f1ae:function(e,t,a){"use strict";var l=a("86cc"),r=a("4630");e.exports=function(e,t,a){t in e?l.f(e,t,r(0,a)):e[t]=a}}}]);
//# sourceMappingURL=chunk-a4bcd5e8.5ae5dc41.js.map