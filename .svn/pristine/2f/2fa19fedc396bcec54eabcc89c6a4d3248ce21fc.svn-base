(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f6a7f09"],{bbd5:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o}));a("5c96");var n=a("c46f");function r(e){return 0===e.indexOf("icon-")?"iconfont ".concat(e):0===e.indexOf("el-icon-")?e:""}function l(e){var t=0;return e instanceof Array||e.offsetHeight?(e instanceof Array?n["a"].each(e,(function(e){try{t+=parseInt(e.offsetHeight)}catch(a){console.error(a)}})):t=parseInt(e.offsetHeight),"calc(100% - ".concat(t,"px)")):""}function i(e,t,a){a&&a(),e.style.height=l(t),window.addEventListener("resize",(function(){e.style.height=l(t),a&&a()}))}function o(e){var t=e.data,a=e.pageSize,r=e.currentPage,l=r-1;return n["a"].filter(t,(function(e,t){return t>=l*a&&t<r*a}))}},e930:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{ref:"queryBar",staticClass:"tw-query-bar",attrs:{inline:!0,model:e.query,size:"small"}},[a("el-form-item",[a("el-autocomplete",{attrs:{placeholder:"车牌号码","fetch-suggestions":e.handleQuerySearch,"trigger-on-focus":!1,clearable:""},on:{focus:e.handleCarfocus},model:{value:e.query.vehicleNumber,callback:function(t){e.$set(e.query,"vehicleNumber",t)},expression:"query.vehicleNumber"}})],1),a("el-form-item",[a("el-select",{model:{value:e.query.type,callback:function(t){e.$set(e.query,"type",t)},expression:"query.type"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),a("el-option",{attrs:{label:"超过1个月未营运分析",value:"1"}}),a("el-option",{attrs:{label:"超过3个月未营运分析",value:"2"}}),a("el-option",{attrs:{label:"超过6个月未营运分析",value:"3"}}),a("el-option",{attrs:{label:"超过一年未营运分析",value:"4"}}),a("el-option",{attrs:{label:"未参与营运",value:"5"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleQueryClick}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleExportClick}},[e._v("导出")])],1)],1),a("div",{ref:"queryPanel",staticClass:"tw-query-panel"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"tw-table tw-moreinfo-table",attrs:{data:e.table.data,border:"",height:"calc(100% - 42px)",stripe:""}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"AUTO_NUM",align:"center",label:"车牌号码","min-width":"100"}}),a("el-table-column",{attrs:{prop:"OWNER",align:"center",label:"车辆所有人",width:"270"}}),a("el-table-column",{attrs:{prop:"OWNER_TEL",align:"center",label:"联系电话",width:"140"}}),a("el-table-column",{attrs:{prop:"LICENSE_REGISTER_DATE",align:"center",label:"行驶证注册日期",width:"160",formatter:e.timeFormatter}}),a("el-table-column",{attrs:{prop:"START_DATE",align:"center",label:"有效开始日期",width:"160",formatter:e.timeFormatter}}),a("el-table-column",{attrs:{prop:"END_DATE",align:"center",label:"有效截止日期","min-width":"140",formatter:e.timeFormatter,resizable:!1}}),a("el-table-column",{attrs:{prop:"LAST_TIME",align:"center",label:"最近营运时间",width:"140",resizable:!1,formatter:e.timeFormatter}}),a("el-table-column",{attrs:{prop:"last_type",align:"center",label:"营运状态","min-width":"140",resizable:!1}})],1),a("el-pagination",{attrs:{background:"","page-size":e.table.pageSize,"current-page":e.table.currentPage,total:e.table.total},on:{"current-change":e.handleTablePageCurrentChange}})],1)],1)},r=[],l=(a("c46f"),a("bc3a")),i=a.n(l),o=a("c1df"),c=a.n(o),u=a("bbd5"),s={name:"StatisticsUnoperatedVehicles",data:function(){return{query:{vehicleNumber:"",type:"0"},table:{loading:!1,data:[],pageSize:20,currentPage:1,total:0}}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.$refs["queryBar"].$el;Object(u["d"])(e.$refs["queryPanel"],t),e.getDataList()}))},computed:{},methods:{getDataList:function(){var e=this;this.table.loading=!0;var t=this.query,a=t.vehicleNumber,n=t.type,r=this.baseURL,l="postData="+JSON.stringify({vehino:a,type:n,pageSize:this.table.pageSize,pageIndex:this.table.currentPage});i.a.post("manage/findCarNotOperate",l,{baseURL:r}).then((function(t){try{var a=t.data;e.table.data=a.datas,e.table.total=parseInt(a.count),setTimeout((function(){e.table.loading=!1}),500)}catch(n){}}))},timeFormatter:function(e,t,a){if(""!=a)return c()(a).format("YYYY-MM-DD")},handleQuerySearch:function(e,t){if(e.length>=5){var a="postData={'vehino':'".concat(e,"'}");i.a.post("manage/findNotOperateVehicleNo",a,{baseURL:this.baseURL}).then((function(e){for(var a=e.data,n=0;n<a.vehino.length;n++)a.vehino[n].value=a.vehino[n].VehicleNo;t(a.vehicleNo)}))}},handleCarfocus:function(){var e=this.query.vehicleNumber;""===e&&(this.query.vehicleNumber="浙A")},handleQueryClick:function(){this.getDataList()},handleTablePageCurrentChange:function(e){this.table.currentPage=e,this.getDataList()},handleExportClick:function(){var e=this;this.$confirm("是否需要导出?","提示",{confirmButtonText:"是",cancelButtonText:"否",cancelButtonClass:"el-button--danger",closeOnClickModal:!1,type:"info",center:!0}).then((function(){window.open("".concat(e.baseURL,"manage/exportCarNotOperate?postData={'vehino':'").concat(e.query.vehicleNumber,"','type':'").concat(e.query.type,"','pageSize':'").concat(e.table.pageSize,"','pageIndex':'").concat(e.table.currentPage,"'}"))})).catch((function(){}))}}},p=s,h=a("2877"),b=Object(h["a"])(p,n,r,!1,null,"b7a3ed2a",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-1f6a7f09.ba285dfa.js.map