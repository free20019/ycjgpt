(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71a38f52"],{"02f4":function(t,e,i){var a=i("4588"),r=i("be13");t.exports=function(t){return function(e,i){var n,o,l=String(r(e)),s=a(i),c=l.length;return s<0||s>=c?t?"":void 0:(n=l.charCodeAt(s),n<55296||n>56319||s+1===c||(o=l.charCodeAt(s+1))<56320||o>57343?t?l.charAt(s):n:t?l.slice(s,s+2):o-56320+(n-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var a=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?a(t,e).length:1)}},"0739":function(t,e,i){"use strict";var a=i("8b43"),r=i.n(a);r.a},"0bfb":function(t,e,i){"use strict";var a=i("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,i){var a=i("52a7"),r=i("4630"),n=i("6821"),o=i("6a99"),l=i("69a8"),s=i("c69a"),c=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?c:function(t,e){if(t=n(t),e=o(e,!0),s)try{return c(t,e)}catch(i){}if(l(t,e))return r(!a.f.call(t,e),t[e])}},"214f":function(t,e,i){"use strict";i("b0c5");var a=i("2aba"),r=i("32e9"),n=i("79e5"),o=i("be13"),l=i("2b4c"),s=i("520a"),c=l("species"),p=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var u=l(t),f=!n((function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})),m=f?!n((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[u](""),!e})):void 0;if(!f||!m||"replace"===t&&!p||"split"===t&&!h){var d=/./[u],v=i(o,u,""[t],(function(t,e,i,a,r){return e.exec===s?f&&!r?{done:!0,value:d.call(e,i,a)}:{done:!0,value:t.call(i,e,a)}:{done:!1}})),b=v[0],g=v[1];a(String.prototype,t,b),r(RegExp.prototype,u,2==e?function(t,e){return g.call(t,this,e)}:function(t){return g.call(t,this)})}}},4917:function(t,e,i){"use strict";var a=i("cb7c"),r=i("9def"),n=i("0390"),o=i("5f1b");i("214f")("match",1,(function(t,e,i,l){return[function(i){var a=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,a):new RegExp(i)[e](String(a))},function(t){var e=l(i,t,this);if(e.done)return e.value;var s=a(t),c=String(this);if(!s.global)return o(s,c);var p=s.unicode;s.lastIndex=0;var h,u=[],f=0;while(null!==(h=o(s,c))){var m=String(h[0]);u[f]=m,""===m&&(s.lastIndex=n(c,r(s.lastIndex),p)),f++}return 0===f?null:u}]}))},"520a":function(t,e,i){"use strict";var a=i("0bfb"),r=RegExp.prototype.exec,n=String.prototype.replace,o=r,l="lastIndex",s=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[l]||0!==e[l]}(),c=void 0!==/()??/.exec("")[1],p=s||c;p&&(o=function(t){var e,i,o,p,h=this;return c&&(i=new RegExp("^"+h.source+"$(?!\\s)",a.call(h))),s&&(e=h[l]),o=r.call(h,t),s&&o&&(h[l]=h.global?o.index+o[0].length:e),c&&o&&o.length>1&&n.call(o[0],i,(function(){for(p=1;p<arguments.length-2;p++)void 0===arguments[p]&&(o[p]=void 0)})),o}),t.exports=o},"5dbc":function(t,e,i){var a=i("d3f4"),r=i("8b97").set;t.exports=function(t,e,i){var n,o=e.constructor;return o!==i&&"function"==typeof o&&(n=o.prototype)!==i.prototype&&a(n)&&r&&r(t,n),t}},"5df3":function(t,e,i){"use strict";var a=i("02f4")(!0);i("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=a(e,i),this._i+=t.length,{value:t,done:!1})}))},"5f1b":function(t,e,i){"use strict";var a=i("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var n=i.call(t,e);if("object"!==typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"67ab":function(t,e,i){var a=i("ca5a")("meta"),r=i("d3f4"),n=i("69a8"),o=i("86cc").f,l=0,s=Object.isExtensible||function(){return!0},c=!i("79e5")((function(){return s(Object.preventExtensions({}))})),p=function(t){o(t,a,{value:{i:"O"+ ++l,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,a)){if(!s(t))return"F";if(!e)return"E";p(t)}return t[a].i},u=function(t,e){if(!n(t,a)){if(!s(t))return!0;if(!e)return!1;p(t)}return t[a].w},f=function(t){return c&&m.NEED&&s(t)&&!n(t,a)&&p(t),t},m=t.exports={KEY:a,NEED:!1,fastKey:h,getWeak:u,onFreeze:f}},"8b43":function(t,e,i){},"8b97":function(t,e,i){var a=i("d3f4"),r=i("cb7c"),n=function(t,e){if(r(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,i){return n(t,i),e?t.__proto__=i:a(t,i),t}}({},!1):void 0),check:n}},b0c5:function(t,e,i){"use strict";var a=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},b39a:function(t,e,i){var a=i("d3f4");t.exports=function(t,e){if(!a(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,i){"use strict";var a=i("86cc").f,r=i("2aeb"),n=i("dcbc"),o=i("9b43"),l=i("f605"),s=i("4a59"),c=i("01f9"),p=i("d53b"),h=i("7a56"),u=i("9e1e"),f=i("67ab").fastKey,m=i("b39a"),d=u?"_s":"size",v=function(t,e){var i,a=f(e);if("F"!==a)return t._i[a];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var p=t((function(t,a){l(t,p,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=a&&s(a,i,t[c],t)}));return n(p.prototype,{clear:function(){for(var t=m(this,e),i=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete i[a.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var i=m(this,e),a=v(i,t);if(a){var r=a.n,n=a.p;delete i._i[a.i],a.r=!0,n&&(n.n=r),r&&(r.p=n),i._f==a&&(i._f=r),i._l==a&&(i._l=n),i[d]--}return!!a},forEach:function(t){m(this,e);var i,a=o(t,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){a(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(t){return!!v(m(this,e),t)}}),u&&a(p.prototype,"size",{get:function(){return m(this,e)[d]}}),p},def:function(t,e,i){var a,r,n=v(t,e);return n?n.v=i:(t._l=n={i:r=f(e,!0),k:e,v:i,p:a=t._l,n:void 0,r:!1},t._f||(t._f=n),a&&(a.n=n),t[d]++,"F"!==r&&(t._i[r]=n)),t},getEntry:v,setStrong:function(t,e,i){c(t,e,(function(t,i){this._t=m(t,e),this._k=i,this._l=void 0}),(function(){var t=this,e=t._k,i=t._l;while(i&&i.r)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?p(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,p(1))}),i?"entries":"values",!i,!0),h(e)}}},c45d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"tw-template-wrapper",on:{mousemove:t.handleMouseMove,mouseup:t.handleMouseUp}},[i("div",{ref:"moveMap",staticClass:"map-box"},[i("div",{staticStyle:{height:"100%"},attrs:{id:"arcgisMap"}})]),i("div",{ref:"moveTable",staticClass:"query-table"},[i("div",{staticClass:"move-line",on:{mousedown:t.handleMouseDown}}),i("div",{staticClass:"tw-tab one",class:{active:t.activeFlagA},on:{click:t.changeA}},[t._v("定位")]),i("div",{staticClass:"tw-tab two",class:{active:t.activeFlagB},on:{click:t.changeB}},[t._v("订单")]),i("el-form",{ref:"queryBar",attrs:{inline:!0,size:"mini"}},[i("el-form-item",[i("el-autocomplete",{attrs:{"fetch-suggestions":t.queryVehicleSearch,placeholder:"车牌号码","trigger-on-focus":!1,clearable:""},model:{value:t.query.vehino,callback:function(e){t.$set(t.query,"vehino",e)},expression:"query.vehino"}})],1),i("el-form-item",[i("el-date-picker",{attrs:{type:"datetime",placeholder:"开始时间"},model:{value:t.query.stime,callback:function(e){t.$set(t.query,"stime",e)},expression:"query.stime"}})],1),i("el-form-item",[i("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间"},model:{value:t.query.etime,callback:function(e){t.$set(t.query,"etime",e)},expression:"query.etime"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.handleQueryClick}},[t._v("查询")])],1),i("el-form-item",[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.buttonShow,expression:"buttonShow"}],attrs:{type:"primary"},on:{click:t.trackPlay}},[t._v("播放")])],1),i("el-form-item",[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.stopShow,expression:"stopShow"}],attrs:{type:"primary"},on:{click:t.trackPause}},[t._v("暂停")])],1),i("el-form-item",[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.startShow,expression:"startShow"}],attrs:{type:"primary"},on:{click:t.trackContinues}},[t._v("继续")])],1),i("el-form-item",[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.buttonShow,expression:"buttonShow"}],attrs:{type:"primary"},on:{click:t.trackStop}},[t._v("停止")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.activeFlagA,expression:"activeFlagA"},{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"queryPanel"},[i("el-table",{attrs:{data:t.table.monitor,border:"",size:"mini",height:"100%"}},[i("el-table-column",{attrs:{prop:"ABB_NAME",label:"平台名称",width:"120"}}),i("el-table-column",{attrs:{prop:"VEHICLENO",label:"车牌号码",width:"100"}}),i("el-table-column",{attrs:{prop:"LONGITUDE",label:"经度",width:"120"}}),i("el-table-column",{attrs:{prop:"LATITUDE",label:"纬度",width:"120"}}),i("el-table-column",{attrs:{prop:"SPEED",label:"速度(KM/H)",width:"100"}}),i("el-table-column",{attrs:{prop:"DIRECTION",label:"方向",width:"100",formatter:t.fomartfx}}),i("el-table-column",{attrs:{prop:"ELEVATION",label:"海拔高度(M)",width:"100"}}),i("el-table-column",{attrs:{prop:"BIZSTATUS",label:"状态",width:"100",formatter:t.fomarttype}}),i("el-table-column",{attrs:{prop:"POSITIONTIME",label:"定位时间",width:"160",formatter:t.fomarttime}}),i("el-table-column",{attrs:{prop:"ORDERID",label:"订单编号","min-width":"120"}})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.activeFlagB,expression:"activeFlagB"},{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"queryPanelB"},[i("el-table",{attrs:{data:t.table.order,border:"",size:"mini",height:"100%"}},[i("el-table-column",{attrs:{prop:"ABB_NAME",label:"平台名称",width:"120"}}),i("el-table-column",{attrs:{prop:"ORDERID",label:"订单编号",width:"120"}}),i("el-table-column",{attrs:{prop:"DRIVERNAME",label:"驾驶员姓名",width:"120"}}),i("el-table-column",{attrs:{prop:"LICENSEID",label:"驾驶证号",width:"160"}}),i("el-table-column",{attrs:{prop:"VEHICLENO",label:"车辆号牌",width:"120"}}),i("el-table-column",{attrs:{prop:"DEPAREA",label:"上车地点",width:"260"}}),i("el-table-column",{attrs:{prop:"DEPTIME",label:"上车时间",width:"160",formatter:t.fomarttime}}),i("el-table-column",{attrs:{prop:"DESTAREA",label:"下车地点",width:"160"}}),i("el-table-column",{attrs:{prop:"DESTTIME",label:"下车时间",width:"160",formatter:t.fomarttime}}),i("el-table-column",{attrs:{prop:"FACTPRICE",label:"实收金额(元)",width:"100"}}),i("el-table-column",{attrs:{prop:"DRIVETIME",label:"载客时间（秒）",width:"110"}}),i("el-table-column",{attrs:{prop:"DRIVEMILE",label:"载客里程（千米）","min-width":"140"}})],1)],1)],1)])},r=[],n=(i("ac6a"),i("5df3"),i("f400"),i("4917"),i("3835")),o=i("6e58"),l=i("bbd5"),s=i("bc3a"),c=i.n(s),p=i("c1df"),h=i.n(p),u=i("1157"),f=i.n(u),m=i("c46f"),d={name:"HistoricalTrackPlayback",data:function(){return{map:{arcgisMap:null,levelMap:null,dialog:null,motionMap:null,lineMap:null},loading:!1,mapQueryPanel:!1,tableType:!1,query:{vehino:"",stime:"",etime:""},table:{monitor:[],order:[],match:[]},data:[],activeFlagA:!0,activeFlagB:!1,activeFlagC:!1,options:[],compname:"",displayComp:!1,clickFlag:!1,move:{},historList:0,historInterval:null,motion:null,lineList:[],startShow:!1,stopShow:!1,buttonShow:!1}},mounted:function(){var t=this;this.$nextTick((function(){var e=t;t.mapQueryPanel=!0,t.query.stime=t.fomarttime1(new Date((new Date).getTime()-72e5)),t.query.etime=t.fomarttime1(new Date);var i=t.$refs["queryBar"].$el;Object(l["d"])(t.$refs["queryPanel"],i);try{Object(o["a"])(["esri/map","esri/basemaps","esri/layers/GraphicsLayer","esri/lang","dijit/TooltipDialog","dijit/popup","dojo/dom-style"]).then((function(i){var a=Object(n["a"])(i,7),r=a[0],l=a[1],s=a[2],c=a[3],p=a[4],h=a[5],u=a[6];l.mapLayerPath=o["b"],t.map.arcgisMap=new r("arcgisMap",{basemap:"mapLayerPath",spatialReference:{wkid:4326},center:[120.197521,30.24298],zoom:13}),t.map.arcgisMap.on("load",(function(){t.map.arcgisMap.infoWindow.resize(100,125),t.map.dialog=new p({style:"position: absolute; width: 350px; font: normal normal normal 10pt Helvetica;z-index:100"}),t.map.dialog.startup(),t.map.lineMap=new s({id:"lineMap"}),t.map.arcgisMap.addLayer(t.map.lineMap),t.map.levelMap=new s({id:"levelmap"}),t.map.arcgisMap.addLayer(t.map.levelMap),t.map.motionMap=new s({id:"motionMap"}),t.map.arcgisMap.addLayer(t.map.motionMap),e.map.arcgisMap.on("zoom",(function(){f()(".mapDialog").hide(),h.close(e.map.dialog)})),e.map.arcgisMap.on("pan-start",(function(){f()(".mapDialog").hide(),h.close(e.map.dialog)})),t.getVehi_no(),t.map.levelMap.on("click",(function(t){var i=t.graphic.attributes,a='<div class="mapDialog" style=""><div class="mapToolPanel"><TitleCircle><HyperCircle></HyperCircle>网约车-'+i.VEHICLENO+'<HyperCircle></HyperCircle><i class="iconfont icon-close"></i></TitleCircle><div class="conent" style="padding-top: 20px;"><div class="rowbox clearfix"><div class="normBox" type="left" style="display: inline-block;"><div class="normTitle">速度</div><div class="normInfo sbig"><span class="intensify">'+i.SPEED+'</span>KM/H</div></div><div class="normBox" type="right" style="display: inline-block;"><div class="normTitle">营运状态</div><div class="normInfo sbig" style="font-size: 18px">'+e.fomarttype1(i.BIZSTATUS)+'</div></div></div><div class="normBox" type="left"><div class="normTitle">GPS时间</div><div class="normInfo sbig">'+e.fomarttime1(i.POSITIONTIME)+'</div></div><div class="normBox" type="left"><div class="normTitle">所属公司</div><div class="normInfo sbig">'+i.ABB_NAME+'</div></div><div class="normBox" type="left"><div class="normTitle">订单编号</div><div class="normInfo sbig">'+i.ORDERID+"</div></div></div></div></div>",r=c.substitute(t.graphic.attributes,a);e.map.dialog.setContent(r),u.set(e.map.dialog.domNode,"opacity",.85),h.open({popup:e.map.dialog,x:t.pageX,y:t.pageY}),f()(".icon-close").click((function(){f()(".mapDialog").hide(),h.close(e.map.dialog)}))}))}))}))}catch(a){}}))},computed:{tableColumn:function(){return this.tableType?[{prop:"ABB_NAME",label:"平台名称",width:120},{prop:"ORDERID",label:"订单编号",width:120},{prop:"DRIVERNAME",label:"驾驶员姓名",width:120},{prop:"LICENSEID",label:"驾驶证号",width:160},{prop:"VEHICLENO",label:"车辆号牌",width:120},{prop:"DEPAREA",label:"上车地点",width:260},{prop:"DEPTIME",label:"上车时间",width:160,formatter:this.fomarttime},{prop:"DESTAREA",label:"下车地点",width:160},{prop:"DESTTIME",label:"下车时间",width:160,formatter:this.fomarttime},{prop:"FACTPRICE",label:"实收金额(元)",width:100},{prop:"DRIVETIME",label:"载客时间（秒）",width:110},{prop:"DRIVEMILE",label:"载客里程（千米）","min-width":140}]:[{prop:"ABB_NAME",label:"平台名称",width:120},{prop:"VEHICLENO",label:"车牌号码",width:100},{prop:"LONGITUDE",label:"经度",width:120},{prop:"LATITUDE",label:"纬度",width:120},{prop:"SPEED",label:"速度(KM/H)",width:100},{prop:"DIRECTION",label:"方向",width:100,"show-overflow-tooltip":!0,formatter:this.fomartfx},{prop:"ELEVATION",label:"海拔高度(M)",width:100},{prop:"BIZSTATUS",label:"状态",width:100,"show-overflow-tooltip":!0,formatter:this.fomarttype},{prop:"POSITIONTIME",label:"定位时间",width:160,"show-overflow-tooltip":!0,formatter:this.fomarttime},{prop:"ORDERID",label:"订单编号","min-width":120,resizable:!1}]}},methods:{handleMouseMove:function(t){if(this.clickFlag){var e=t.clientY-50;if(e>200){if(this.$refs.moveMap.style.height=t.clientY-50+"px",this.$refs.moveTable.style.height="calc(100% - ".concat(e,"px)"),this.activeFlagA){var i=this.$refs["queryBar"].$el;Object(l["d"])(this.$refs["queryPanel"],i)}if(this.activeFlagB){var a=this.$refs["queryBar"].$el;Object(l["d"])(this.$refs["queryPanelB"],a)}}}},handleMouseUp:function(t){this.clickFlag=!1},handleMouseDown:function(t){console.info("最大高度",this.$refs.wrapper.clientHeight),console.info("地图高度",this.$refs.moveMap),console.info("表格高度",this.$refs.moveTable),this.clickFlag=!0},changeA:function(){this.activeFlagA=!0,this.activeFlagB=!1,this.activeFlagC=!1},changeB:function(){this.activeFlagA=!1,this.activeFlagB=!0,this.activeFlagC=!1;var t=this.$refs["queryBar"].$el;Object(l["d"])(this.$refs["queryPanelB"],t)},fomarttime:function(t,e,i){return h()(i).format("YYYY-MM-DD HH:mm:ss")},fomarttime1:function(t){return h()(t).format("YYYY-MM-DD HH:mm:ss")},fomarttype:function(t,e,i){return"1"==i?"载客":"2"==i?"接单":"3"==i?"空驶":"4"==i?"停运":void 0},fomarttype1:function(t){return"1"==t?"载客":"2"==t?"接单":"3"==t?"空驶":"4"==t?"停运":void 0},fomartfx:function(t,e,i){return 0==i||360==i?"正北":90==i?"正东":180==i?"正南":270==i?"正西":i>0&&i<90?"东北":i>90&&i<180?"东南":i>180&&i<270?"西南":i>270&&i<360?"西北":void 0},iconClassName:l["c"],handleMapQueryPanelDisplayClick:function(){this.mapQueryPanel=!this.mapQueryPanel},queryVehicleSearch:function(t,e){t.length<3?e([]):c.a.get("map/getVhic",{baseURL:this.baseURL,params:{vhic:this.query.vehino}}).then((function(t){for(var i=[],a=0;a<t.data.length;a++)i.push({id:t.data[a].VEHICLENO,lable:t.data[a].VEHICLENO+"("+t.data[a].ABB_NAME+")",value:t.data[a].VEHICLENO+"("+t.data[a].ABB_NAME+")"});e(i)}))},handleQueryClick:function(){var t=this;this.buttonShow=!1;var e=this.query,i=e.stime,a=e.etime,r=e.vehino;""!==i?""!==a?""!==r?(this.loading=!0,c.a.get("map/getHistor",{baseURL:this.baseURL,params:{stime:this.fomarttime1(i),etime:this.fomarttime1(a),vehi_no:r}}).then((function(e){t.loading=!1,t.data=e.data.monitor||[],t.table.monitor=[],t.table.order=e.data.order||[],t.table.match=e.data.match||[],t.map.levelMap.clear(),0!=e.data.monitor.length?(t.buttonShow=!0,t.historUtil()):t.$message({message:"车辆无轨迹！",type:"warning"})}))):this.$message({message:"车牌号码不能为空！",type:"warning"}):this.$message({message:"结束时间不能为空！",type:"warning"}):this.$message({message:"开始时间不能为空！",type:"warning"})},unique:function(t,e){var i=new Map;return t.filter((function(t){return!i.has(t[e])&&i.set(t[e],1)}))},historUtil:function(){this.map.levelMap.clear(),this.map.motionMap.clear(),this.map.lineMap.clear(),this.displayComp=!0;var t=[];m["a"].map(this.data,(function(e){t.length>0?e.LONGITUDE!=t[t.length-1].LONGITUDE&&e.LATITUDE!=t[t.length-1].LATITUDE&&t.push(e):t.push(e)})),this.table.monitor=t||[];for(var e=[],i=0,a=0;a<t.length;a++)e.push([t[a].LONGITUDE-.0049,t[a].LATITUDE+.0025]),i=0==a?0:a==t.length-1?1:1==t[a].BIZSTATUS||2==t[a].BIZSTATUS?2:3,this.addmar(t[a],i);this.lineList=e,this.addline(e),t.length>0&&this.map.arcgisMap.centerAndZoom([t[0].LONGITUDE,t[0].LATITUDE],6)},historMar:function(){this.addMotionMar(this.table.monitor[this.historList],this.historList),0==this.historList?this.addmar(this.table.monitor[this.historList],0):this.historList==this.table.monitor.length-1?this.addmar(this.table.monitor[this.historList],1):1==this.table.monitor[this.historList].BIZSTATUS||2==this.table.monitor[this.historList].BIZSTATUS?this.addmar(this.table.monitor[this.historList],2):this.addmar(this.table.monitor[this.historList],3),this.historList+=1,this.table.monitor.length<=this.historList&&clearInterval(this.historInterval)},handleChangeClick:function(){this.tableType=!this.tableType},addMotionMar:function(t,e){var i=this;Object(o["a"])(["esri/geometry/Point","esri/graphic","esri/symbols/PictureMarkerSymbol"]).then((function(a){var r=Object(n["a"])(a,3),o=r[0],l=r[1],s=r[2];if(i.map.motionMap.clear(),!(e>=i.table.monitor.length-1)){i.motion=new o({x:t.LONGITUDE-.0049,y:t.LATITUDE+.0025,spatialReference:{wkid:4326}});var c=s(i.baseURL+"image/histor/car.png",40,20).setOffset(0,0).setAngle(t.DIRECTION-90),p=new l(i.motion,c,t,"");i.map.motionMap.add(p)}}))},addmar:function(t,e){var i=this;Object(o["a"])(["esri/geometry/Point","esri/graphic","esri/symbols/PictureMarkerSymbol"]).then((function(a){var r=Object(n["a"])(a,3),o=r[0],l=r[1],s=r[2],c=new o({x:t.LONGITUDE-.0049,y:t.LATITUDE+.0025,spatialReference:{wkid:4326}}),p=null;p=0==e?s(i.baseURL+"image/histor/start.png",35,35).setOffset(0,0):1==e?s(i.baseURL+"image/histor/end.png",35,35).setOffset(0,0):2==e?s(i.baseURL+"image/histor/gjz.png",25,25).setOffset(0,0).setAngle(t.DIRECTION-90).setOffset(0,0):s(i.baseURL+"image/histor/gj.png",25,25).setAngle(t.DIRECTION-90).setOffset(0,0);var h=new l(c,p,t,"");i.map.levelMap.add(h)}))},addline:function(t){var e=this;Object(o["a"])(["esri/geometry/Polyline","esri/symbols/SimpleLineSymbol","esri/Color","esri/graphic"]).then((function(i){var a=Object(n["a"])(i,4),r=a[0],o=a[1],l=a[2],s=a[3],c={paths:[t],spatialReference:{wkid:4326}},p=new r(c),h=new o(o.STYLE_SOLID,new l([19,242,50,1]),2);h.markok="all";var u=new s(p,h);e.map.lineMap.add(u)}))},trackPlay:function(){this.map.levelMap.clear(),this.map.lineMap.clear(),this.map.motionMap.clear(),this.startShow=!1,this.stopShow=!0,clearInterval(this.historInterval),this.historList=0,this.addline(this.lineList),this.historMar(0),this.historInterval=setInterval(this.historMar,300)},trackPause:function(){this.startShow=!0,this.stopShow=!1,clearInterval(this.historInterval)},trackContinues:function(){this.startShow=!1,this.stopShow=!0,this.historInterval=setInterval(this.historMar,300)},trackStop:function(){this.map.levelMap.clear(),this.map.motionMap.clear(),this.map.lineMap.clear(),this.startShow=!1,this.stopShow=!1,clearInterval(this.historInterval),this.historList=0;for(var t=0,e=0;e<this.table.monitor.length;e++)t=0==e?0:e>=this.table.monitor.length-1?1:1==this.table.monitor[e].BIZSTATUS||2==this.table.monitor[e].BIZSTATUS?2:3,this.addline(this.lineList),this.addmar(this.table.monitor[e],t)},getVehi_no:function(){var t=this.$route.params.vehi_no;console.log("vehi:",t),t&&(this.query.vehino=t,this.handleQueryClick())}},watch:{"$route.path":function(){this.getVehi_no()}}},v=d,b=(i("0739"),i("2877")),g=Object(b["a"])(v,a,r,!1,null,"5753f3a2",null);e["default"]=g.exports},e0b8:function(t,e,i){"use strict";var a=i("7726"),r=i("5ca1"),n=i("2aba"),o=i("dcbc"),l=i("67ab"),s=i("4a59"),c=i("f605"),p=i("d3f4"),h=i("79e5"),u=i("5cc5"),f=i("7f20"),m=i("5dbc");t.exports=function(t,e,i,d,v,b){var g=a[t],w=g,y=v?"set":"add",E=w&&w.prototype,I={},M=function(t){var e=E[t];n(E,t,"delete"==t||"has"==t?function(t){return!(b&&!p(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!p(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof w&&(b||E.forEach&&!h((function(){(new w).entries().next()})))){var T=new w,x=T[y](b?{}:-0,1)!=T,S=h((function(){T.has(1)})),_=u((function(t){new w(t)})),D=!b&&h((function(){var t=new w,e=5;while(e--)t[y](e,e);return!t.has(-0)}));_||(w=e((function(e,i){c(e,w,t);var a=m(new g,e,w);return void 0!=i&&s(i,v,a[y],a),a})),w.prototype=E,E.constructor=w),(S||D)&&(M("delete"),M("has"),v&&M("get")),(D||x)&&M(y),b&&E.clear&&delete E.clear}else w=d.getConstructor(e,t,v,y),o(w.prototype,i),l.NEED=!0;return f(w,t),I[t]=w,r(r.G+r.W+r.F*(w!=g),I),b||d.setStrong(w,t,v),w}},f400:function(t,e,i){"use strict";var a=i("c26b"),r=i("b39a"),n="Map";t.exports=i("e0b8")(n,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=a.getEntry(r(this,n),t);return e&&e.v},set:function(t,e){return a.def(r(this,n),0===t?0:t,e)}},a,!0)}}]);
//# sourceMappingURL=chunk-71a38f52.68dcbe5a.js.map