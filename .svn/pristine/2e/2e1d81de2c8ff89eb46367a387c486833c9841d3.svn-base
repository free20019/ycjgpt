(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a21c5e4a"],{b9a3:function(t,e,a){},bbd5:function(t,e,a){"use strict";a.d(e,"c",(function(){return l})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"a",(function(){return o}));a("5c96");var r=a("c46f");function l(t){return 0===t.indexOf("icon-")?"iconfont ".concat(t):0===t.indexOf("el-icon-")?t:""}function n(t){var e=0;return t instanceof Array||t.offsetHeight?(t instanceof Array?r["a"].each(t,(function(t){try{e+=parseInt(t.offsetHeight)}catch(a){console.error(a)}})):e=parseInt(t.offsetHeight),"calc(100% - ".concat(e,"px)")):""}function i(t,e,a){a&&a(),t.style.height=n(e),window.addEventListener("resize",(function(){t.style.height=n(e),a&&a()}))}function o(t){var e=t.data,a=t.pageSize,l=t.currentPage,n=l-1;return r["a"].filter(e,(function(t,e){return e>=n*a&&e<l*a}))}},c0dd:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{ref:"queryBar",staticClass:"tw-query-bar",attrs:{model:t.query,inline:!0,size:"small"}},[a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"平台名称"},model:{value:t.query.ptname,callback:function(e){t.$set(t.query,"ptname",e)},expression:"query.ptname"}},t._l(this.OnlyCompany,(function(t){return a("el-option",{key:t.ID,attrs:{label:t.TEXT,value:t.ID}})})),1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入驾驶证号",clearable:""},model:{value:t.query.driverNum,callback:function(e){t.$set(t.query,"driverNum",e)},expression:"query.driverNum"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.querySearch1}},[t._v("查询")])],1)],1),a("div",{ref:"queryPanel",staticClass:"tw-query-panel"},[a("el-card",{staticClass:"tw-card tw-card-full",attrs:{"body-style":{padding:0},header:"驾驶员基本信息"}},[a("el-form",{ref:"driverBaseInfo",staticClass:"tw-form",attrs:{"label-position":t.labelPosition,inline:!0,size:"small","label-width":"150px"},model:{value:t.jsyxxForm,callback:function(e){t.jsyxxForm=e},expression:"jsyxxForm"}},[a("el-form-item",{attrs:{label:"平台名称"}},[a("el-input",{attrs:{value:t.jsyxxForm.COMPANYNAME,readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员姓名"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERNAME,readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员电话"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERPHONE,readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员性别"}},[a("el-input",{attrs:{value:t.sexFormatter(t.jsyxxForm.DRIVERGENDER),readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员国籍"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERNATIONALITY,readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员民族"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERNATION,readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员婚姻状况"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERMARITALSTATUS,readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员外语能力"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERLANGUAGELEVEL,readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员学历"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVEREDUCATION,readonly:""}})],1),a("el-form-item",{attrs:{label:"准考车型"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERTYPE,readonly:""}})],1),a("el-form-item",{attrs:{label:"初次领证驾驶证日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.GETDRIVERLICENSEDATE),readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶证有效期限起"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.DRIVERLICENSEON),readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶证有效期限止"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.DRIVERLICENSEOFF),readonly:""}})],1),a("el-form-item",{attrs:{label:"是否巡游出租驾驶员"}},[a("el-input",{attrs:{value:t.oneYesTowNoFormatter(t.jsyxxForm.TAXIDRIVER),readonly:""}})],1),a("el-form-item",{attrs:{label:"网络预约出资格证号"}},[a("el-input",{attrs:{value:t.jsyxxForm.CERTIFICATENO,readonly:""}})],1),a("el-form-item",{attrs:{label:"发证机构"}},[a("el-input",{attrs:{value:t.jsyxxForm.NETWORKCARISSUEORGANIZATION,readonly:""}})],1),a("el-form-item",{attrs:{label:"资格证发证日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.NETWORKCARISSUEDATE),readonly:""}})],1),a("el-form-item",{attrs:{label:"初次领取资格证日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.GETNETWORKCARPROOFDATE),readonly:""}})],1),a("el-form-item",{attrs:{label:"资格证有效起始日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.NETWORKCARPROOFON),readonly:""}})],1),a("el-form-item",{attrs:{label:"资格证有效截止日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.NETWORKCARPROOFOFF),readonly:""}})],1),a("el-form-item",{attrs:{label:"注册日期"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.REGISTERDATE),readonly:""}})],1),a("el-form-item",{attrs:{label:"是否专职司机"}},[a("el-input",{attrs:{value:t.oneYesTowNoFormatter(t.jsyxxForm.FULLTIMEDRIVER),readonly:""}})],1),a("el-form-item",{attrs:{label:"是否驾驶员黑名单内"}},[a("el-input",{attrs:{value:t.oneYesTowNoFormatter(t.jsyxxForm.INDRIVERBLACKLIST),readonly:""}})],1),a("el-form-item",{attrs:{label:"服务类型"}},[a("el-input",{attrs:{value:t.commercialtypeFormatter(t.jsyxxForm.COMMERCIALTYPE),readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员合同签署公司"}},[a("el-input",{attrs:{value:t.jsyxxForm.CONTRACTCOMPANY,readonly:""}})],1),a("el-form-item",{attrs:{label:"合同有效期起"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.CONTRACTON),readonly:""}})],1),a("el-form-item",{attrs:{label:"合同有效期止"}},[a("el-input",{attrs:{value:t.timeFormatter(t.jsyxxForm.CONTRACTOFF),readonly:""}})],1),a("el-form-item",{attrs:{label:"紧急情况联系人"}},[a("el-input",{attrs:{value:t.jsyxxForm.EMERGENCYCONTACT,readonly:""}})],1),a("el-form-item",{attrs:{label:"紧急情况联系人电话"}},[a("el-input",{attrs:{value:t.jsyxxForm.EMERGENCYCONTACTPHONE,readonly:""}})],1),a("el-form-item",{attrs:{label:"户口登记机关名称"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERCENSUS,readonly:""}})],1),a("el-form-item",{attrs:{label:"紧急联系人通讯地址"}},[a("el-input",{attrs:{value:t.jsyxxForm.EMERGENCYCONTACTADDRESS,readonly:""}})],1),a("el-form-item",{attrs:{label:"户口住址或长住地址"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERADDRESS,readonly:""}})],1),a("el-form-item",{attrs:{label:"驾驶员通信地址"}},[a("el-input",{attrs:{value:t.jsyxxForm.DRIVERCONTACTADDRESS,readonly:""}})],1)],1),a("el-tabs",{ref:"tabPanel",staticClass:"tw-tabs",on:{"tab-click":t.tabHandleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.jsyxxTabLists,(function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}},[a("el-table",{staticClass:"tw-table",attrs:{data:e.data,border:"",size:"small",height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t._l(e.column,(function(t){return a("el-table-column",{key:t.name,attrs:{prop:t.name,label:t.title,width:t.width,formatter:t.formatter,"min-width":t["min-width"]}})}))],2)],1)})),1)],1)],1)],1)},l=[],n=a("c46f"),i=a("bc3a"),o=a.n(i),s=a("c1df"),m=a.n(s),u=a("bbd5"),c={name:"IntegratedDriverQuery",data:function(){return{query:{ptname:"",driverNum:""},OnlyCompany:[],activeName:"first",jsyxxForm:{},labelPosition:"right",driverAppData:[],lastSearchInfo:"",jsyxxTabLists:[{name:"first",label:"驾驶员培训信息",data:[],column:[{name:"COMPANYNAME",title:"平台名称",width:200},{name:"ADDRESS",title:"行政区划",width:120},{name:"COURSENAME",title:"驾驶员培训课程名称",width:160},{name:"COURSEDATE",title:"培训课程日期",formatter:this.timeFormatter,width:120},{name:"STARTTIME",title:"培训开始时间",width:180},{name:"STOPTIME",title:"培训结束时间",width:150},{name:"FLAG",title:"操作标识",formatter:this.flagFormatter,width:100},{name:"UPDATETIME",title:"更新时间",formatter:this.timeFormatter,"min-width":180,resizable:!0}]},{name:"second",label:"驾驶员移动终端信息",data:this.driverAppData,column:[{name:"COMPANYNAME",title:"平台名称",width:100},{name:"ADDRESS",title:"注册地行政区划代码",width:240},{name:"DRIVERPHONE",title:"驾驶员手机号",width:140},{name:"NETTYPE",title:"手机运营商",width:180},{name:"APPVERSION",title:"使用APP版本号",width:140},{name:"MAPTYPE",title:"使用地图类型",width:100},{name:"STATE",title:"状态",formatter:this.stateFormatter,width:100},{name:"FLAG",title:"操作标识",formatter:this.flagFormatter,width:100},{name:"UPDATETIME",title:"更新时间",formatter:this.timeFormatter,"min-width":180,resizable:!0}]},{name:"third",label:"驾驶员统计信息",data:[],column:[{name:"COMPANYNAME",title:"平台名称",width:100},{name:"ADDRESS",title:"注册地行政区划代码",width:240},{name:"CYCLE",title:"统计周期",width:100},{name:"ORDERCOUNT",title:"完成订单次数",width:100},{name:"TRAFFICVIOLATIONCOUNT",title:"交通违章次数",width:100},{name:"COMPLAINEDCOUNT",title:"被投诉次数",width:100},{name:"FLAG",title:"操作标识",formatter:this.flagFormatter,width:100},{name:"UPDATETIME",title:"更新时间",formatter:this.timeFormatter,"min-width":180,resizable:!0}]}]}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$refs["queryBar"].$el;Object(u["d"])(t.$refs["queryPanel"],e,(function(){t.$refs["tabPanel"].$el.style.height=Object(u["b"])(t.$refs["driverBaseInfo"].$el)})),t.getCompany(),setTimeout((function(){t.$refs["tabPanel"].$el.style.height=Object(u["b"])(t.$refs["driverBaseInfo"].$el)}),100)}))},computed:{},methods:{getCompany:function(){var t=this;o.a.post("manage/findOnlyCompany","",{baseURL:this.baseURL}).then((function(e){var a=e.data;t.OnlyCompany=n["a"].filter(a,(function(t){return t.ID}))}))},timeFormatter:function(t){return null!=t?m()(t).format("YYYY-MM-DD"):""},querySearch1:function(){"0"!=this.query.ptname?""!=this.query.driverNum?this.getData():this.$message("请输入驾驶证号"):this.$message("请选择公司名称")},getData:function(){var t=this;this.lastSearchInfo=this.query.ptname+","+this.query.driverNum;var e="postData={'ptname':'".concat(this.query.ptname,"','jszh':'").concat(this.query.driverNum,"'}");o.a.post("manage/findJsyxx",e,{baseURL:this.baseURL}).then((function(e){e.data;t.jsyxxTabLists[0].data=e.data.pxxx,t.jsyxxForm={},e.data.jsyxx[0]?t.jsyxxForm=e.data.jsyxx[0]:t.$message("暂无数据")}))},querySearch:function(t,e){if(t.length>=5){var a="postData={'vehino':'".concat(t,"'}");o.a.post("manage/findJcVehicleNo",a,{baseURL:this.baseURL}).then((function(t){for(var a=t.data,r=0;r<a.vehicleNo.length;r++)a.vehicleNo[r].value=a.vehicleNo[r].VEHICLENO;e(a.vehicleNo)}))}},inputfocus:function(){this.query.vehino="浙A"+this.query.veNum},handleSelect:function(t){},tabHandleClick:function(t,e){var a=this;if("驾驶员移动终端信息"===e.target.textContent){var r="postData={'ptname':'".concat(this.query.ptname,"','jszh':'").concat(this.query.driverNum,"'}");o.a.post("manage/getDriverApp",r,{baseURL:this.baseURL}).then((function(t){var e=t.data;a.jsyxxTabLists[1].data=e.ydzd}))}else if("驾驶员统计信息"===e.target.textContent){var l="postData={'ptname':'".concat(this.query.ptname,"','jszh':'").concat(this.query.driverNum,"'}");o.a.post("manage/getDriverStat",l,{baseURL:this.baseURL}).then((function(t){var e=t.data;a.jsyxxTabLists[2].data=e.tjxx}))}},flagFormatter:function(t){return"1"==t?"新增":"2"==t?"更新":"删除"},stateFormatter:function(t){return t+""=="0"?"有效":t+""=="1"?"失效":t},oneYesTowNoFormatter:function(t){return t+""=="0"?"否":t+""=="1"?"是":t},commercialtypeFormatter:function(t){return t+""=="1"?"网约车":t+""=="2"?"巡游车":t+""=="3"?"合乘车":t},sexFormatter:function(t){return t+""=="1"?"男":t+""=="2"?"女":t}}},d=c,f=(a("cddc"),a("2877")),y=Object(f["a"])(d,r,l,!1,null,"6d94c0ce",null);e["default"]=y.exports},cddc:function(t,e,a){"use strict";var r=a("b9a3"),l=a.n(r);l.a}}]);
//# sourceMappingURL=chunk-a21c5e4a.e1c7fb68.js.map