{"version":3,"sources":["webpack:///./src/views/userManage/User.vue?87c7","webpack:///src/views/userManage/User.vue","webpack:///./src/views/userManage/User.vue?e58f","webpack:///./src/views/userManage/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","value","query","callback","$$v","$set","expression","on","handleQueryClick","_v","handleAddClick","table","data","scopedSlots","_u","key","fn","scope","$event","handleTableClick","row","handleTableDel","dialog","visible","title","handleClose","ruleForm","rules","_n","slot","loadFlag","submitForm","directives","name","rawName","staticRenderFns","checkUser","params","append","res","Error","validatePass","validatePassEasy","isDigit","isLowerCase","num","test","username","password","phone","selectRow","editUserName","mounted","$nextTick","methods","USERNAME","$confirm","confirmButtonText","cancelButtonText","cancelButtonClass","closeOnClickModal","type","center","PASSWORD","XM","PHONE","queryTable","$refs","clearValidate","validate","valid","component"],"mappings":"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","file":"js/chunk-2d0c06a4.0feb0031.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tw-template-wrapper\"},[_c('el-form',{ref:\"queryBar\",staticClass:\"tw-query-bar\",attrs:{\"inline\":true,\"size\":\"small\"}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"姓名\"},model:{value:(_vm.query.name),callback:function ($$v) {_vm.$set(_vm.query, \"name\", $$v)},expression:\"query.name\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleQueryClick}},[_vm._v(\"查询\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddClick}},[_vm._v(\"添加\")])],1)],1),_c('div',{ref:\"queryPanel\",staticClass:\"tw-query-panel\"},[_c('el-table',{staticClass:\"tw-table\",attrs:{\"stripe\":\"\",\"data\":_vm.table.data,\"border\":\"\",\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"prop\":\"USERNAME\",\"label\":\"账号\"}}),_c('el-table-column',{attrs:{\"prop\":\"XM\",\"label\":\"姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"PHONE\",\"label\":\"所属部门\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleTableClick(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleTableDel(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-dialog',{staticClass:\"tw-load-dialog\",attrs:{\"visible\":_vm.dialog.visible,\"title\":_vm.dialog.title,\"before-close\":_vm.handleClose,\"width\":\"600px\",\"custom-class\":\"tw-dialog\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"visible\", $event)}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"show-password\":true,\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属部门\",\"prop\":\"phone\"}},[_c('el-input',{model:{value:(_vm.ruleForm.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"phone\", _vm._n($$v))},expression:\"ruleForm.phone\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"disabled\":_vm.loadFlag,\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadFlag),expression:\"loadFlag\"}],staticClass:\"el-icon-loading\"}),_vm._v(\"\\n        确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tw-template-wrapper\">\r\n    <el-form class=\"tw-query-bar\" :inline=\"true\" size=\"small\" ref=\"queryBar\">\r\n      <el-form-item>\r\n        <el-input v-model=\"query.name\" placeholder=\"姓名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"handleQueryClick\">查询</el-button>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"handleAddClick\">添加</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"tw-query-panel\" ref=\"queryPanel\">\r\n      <el-table class=\"tw-table\" stripe :data=\"table.data\" border height=\"100%\">\r\n        <el-table-column prop=\"USERNAME\" label=\"账号\"></el-table-column>\r\n        <!--\t\t\t\t<el-table-column prop=\"PASSWORD\" label=\"密码\"></el-table-column>-->\r\n        <el-table-column prop=\"XM\" label=\"姓名\"></el-table-column>\r\n        <el-table-column prop=\"PHONE\" label=\"所属部门\"></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" size=\"small\" @click=\"handleTableClick(scope.row)\">修改</el-button>\r\n            <el-button type=\"text\" size=\"small\" @click=\"handleTableDel(scope.row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog\r\n      class=\"tw-load-dialog\"\r\n      :visible.sync=\"dialog.visible\"\r\n      :title=\"dialog.title\"\r\n      :before-close=\"handleClose\"\r\n      width=\"600px\"\r\n      custom-class=\"tw-dialog\"\r\n      :close-on-click-modal=\"false\"\r\n    >\r\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"ruleForm.username\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" :show-password=\"true\" v-model=\"ruleForm.password\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input v-model=\"ruleForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属部门\" prop=\"phone\">\r\n          <el-input v-model.number=\"ruleForm.phone\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"handleClose\">取 消</el-button>\r\n        <el-button :disabled=\"loadFlag\" type=\"primary\" @click=\"submitForm\">\r\n          <i v-show=\"loadFlag\" class=\"el-icon-loading\"></i>\r\n          确 定</el-button\r\n        >\r\n        <!--\t\t\t\t<el-button :disabled=\"true\" type=\"primary\" @click=\"submitForm\">-->\r\n        <!--\t\t\t\t\t<i class=\"el-icon-loading\"></i>-->\r\n        <!--\t\t\t\t\t确 定</el-button>-->\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'User',\r\n  data() {\r\n    var checkUser = (rule, value, callback) => {\r\n      const baseURL = this.baseURL\r\n      const params = new URLSearchParams()\r\n      params.append('username', this.ruleForm.username)\r\n      if (!value) {\r\n        callback(new Error('请输入用户名'))\r\n      } else if (!!this.editUserName && this.editUserName == this.ruleForm.username) {\r\n        callback()\r\n      } else {\r\n        axios.post('user/checkUsername', params, { baseURL }).then(res => {\r\n          if (res.data == '1') {\r\n            callback(new Error('用户名已存在'))\r\n          } else {\r\n            callback()\r\n          }\r\n        })\r\n      }\r\n    }\r\n    var validatePass = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error('请输入密码'))\r\n      } else if (value.length < 8 || value.length > 18) {\r\n        callback(new Error('密码长度8-18位'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    var validatePassEasy = (rule, value, callback) => {\r\n      var isDigit = /^.*[0-9]+.*/\r\n      var isLowerCase = /^.*[a-z]+.*/\r\n      var isUpperCase = /^.*[A-Z]+.*/\r\n      var regEx = /^.*[^a-zA-Z0-9]+.*/\r\n      var num = 0\r\n      if (isDigit.test(value)) {\r\n        num = num + 1\r\n      }\r\n      if (isLowerCase.test(value)) {\r\n        num = num + 1\r\n      }\r\n      if (num < 2) {\r\n        return callback(new Error('密码复杂度过低。(必须包含英文和数字)'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    return {\r\n      query: {\r\n        name: ''\r\n      },\r\n      table: {\r\n        data: []\r\n      },\r\n      dialog: {\r\n        visible: false,\r\n        title: ''\r\n      },\r\n      ruleForm: {\r\n        username: '',\r\n        password: '',\r\n        name: '',\r\n        phone: ''\r\n      },\r\n      rules: {\r\n        username: [{ validator: checkUser, trigger: 'blur' }],\r\n        password: [{ validator: validatePass, trigger: 'blur' }, { validator: validatePassEasy, trigger: 'blur' }],\r\n        phone: []\r\n      },\r\n      selectRow: {},\r\n      loadFlag: false,\r\n      editUserName: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.queryTable()\r\n    })\r\n  },\r\n  methods: {\r\n    handleTableDel(row) {\r\n      const { USERNAME } = row\r\n      const baseURL = this.baseURL\r\n      const params = new URLSearchParams()\r\n      params.append('username', USERNAME)\r\n      this.$confirm('确定删除吗?', '提示', {\r\n        confirmButtonText: '是',\r\n        cancelButtonText: '否',\r\n        cancelButtonClass: 'el-button--danger',\r\n        closeOnClickModal: false,\r\n        type: 'info',\r\n        center: true\r\n      }).then(() => {\r\n        axios.post('user/deleteUser', params, { baseURL }).then(res => {\r\n          this.queryTable()\r\n        })\r\n      })\r\n    },\r\n    handleTableClick(row) {\r\n      this.selectRow = row\r\n      const { USERNAME, PASSWORD, PHONE, XM } = row\r\n      this.ruleForm.username = USERNAME\r\n      this.ruleForm.password = PASSWORD\r\n      this.ruleForm.name = XM\r\n      this.ruleForm.phone = PHONE\r\n      this.dialog.visible = true\r\n      this.dialog.title = '修改'\r\n      this.editUserName = USERNAME\r\n    },\r\n    handleQueryClick() {\r\n      this.queryTable()\r\n    },\r\n    handleAddClick() {\r\n      this.dialog.visible = true\r\n      this.dialog.title = '添加'\r\n    },\r\n    queryTable() {\r\n      const baseURL = this.baseURL\r\n      axios\r\n        .get('user/getUserList', {\r\n          baseURL,\r\n          params: {\r\n            xm: this.query.name\r\n          }\r\n        })\r\n        .then(res => {\r\n          this.table.data = res.data || []\r\n        })\r\n    },\r\n    handleClose() {\r\n      this.ruleForm = {\r\n        username: '',\r\n        password: '',\r\n        name: '',\r\n        phone: ''\r\n      }\r\n      this.$refs.ruleForm.clearValidate()\r\n      this.dialog.visible = false\r\n    },\r\n    submitForm() {\r\n      const baseURL = this.baseURL\r\n      const { username, password, name, phone } = this.ruleForm\r\n      const params = new URLSearchParams()\r\n      params.append('username', username)\r\n      params.append('password', password)\r\n      params.append('name', name)\r\n      params.append('phone', phone)\r\n      this.$refs.ruleForm.validate(valid => {\r\n        if (valid) {\r\n          this.loadFlag = true\r\n          if (this.dialog.title == '添加') {\r\n            axios.post('user/addUser', params, { baseURL }).then(res => {\r\n              this.handleClose()\r\n              this.queryTable()\r\n              this.loadFlag = false\r\n            })\r\n          }\r\n          if (this.dialog.title == '修改') {\r\n            params.append('id', this.selectRow.ID)\r\n            axios.post('user/updateUser', params, { baseURL }).then(res => {\r\n              this.handleClose()\r\n              this.queryTable()\r\n              this.loadFlag = false\r\n            })\r\n          }\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=449278ac&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"449278ac\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}