(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-394d591d"],{"11e9":function(e,t,a){var n=a("52a7"),r=a("4630"),o=a("6821"),c=a("6a99"),i=a("69a8"),l=a("c69a"),u=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?u:function(e,t){if(e=o(e),t=c(t,!0),l)try{return u(e,t)}catch(a){}if(i(e,t))return r(!n.f.call(e,t),e[t])}},5500:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{ref:"queryBar",staticClass:"tw-query-bar",attrs:{model:e.query,inline:!0,size:"small"}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"year",placeholder:"选择年"},model:{value:e.query.dateyear,callback:function(t){e.$set(e.query,"dateyear",t)},expression:"query.dateyear"}})],1),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"平台名称"},model:{value:e.query.ptname,callback:function(t){e.$set(e.query,"ptname",t)},expression:"query.ptname"}},e._l(e.getAutoCompanyName,(function(e){return a("el-option",{key:e.onlyId,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.handleQuerySearch,placeholder:"车牌号码","trigger-on-focus":!1,clearable:""},on:{focus:e.handleCarfocus},model:{value:e.query.vehino,callback:function(t){e.$set(e.query,"vehino",t)},expression:"query.vehino"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleQueryClick}},[e._v("查询")])],1)],1),a("div",{ref:"queryPanel",staticClass:"tw-query-panel"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"tw-table",attrs:{data:e.table.data,border:"",height:"calc(100% - 42px)",stripe:""}},[a("el-table-column",{attrs:{align:"center",width:"60",type:"index",label:"序号"}}),a("el-table-column",{attrs:{align:"center",prop:"COMPANYNAME",label:"平台名称"}}),a("el-table-column",{attrs:{align:"center",prop:"VEHICLENO",width:"100",label:"车牌号码"}}),a("el-table-column",{attrs:{align:"center",prop:"INSURCOM","min-width":"130",label:"保险公司"}}),a("el-table-column",{attrs:{align:"center",prop:"INSURNUM",label:"保险号"}}),a("el-table-column",{attrs:{align:"center",prop:"INSURTYPE",label:"保险类型"}}),a("el-table-column",{attrs:{align:"center",prop:"INSURCOUNT",label:"保险金额"}}),a("el-table-column",{attrs:{align:"center",prop:"INSUREFF",label:"保险生效时间",formatter:e.dateFormatter}}),a("el-table-column",{attrs:{align:"center",prop:"UPDATETIME",label:"更新时间",formatter:e.timeFormatter,resizable:!1}})],1),a("el-pagination",{attrs:{background:"","page-size":e.table.pageSize,"current-page":e.table.currentPage,total:e.table.total},on:{"current-change":e.handleTablePageCurrentChange}})],1)],1)},r=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),c=a("bc3a"),i=a.n(c),l=a("c1df"),u=a.n(l),s=a("2f62"),f=a("bbd5");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"CarInsuranceInformation",data:function(){return{query:{ptname:"0",vehino:"",dateyear:""},table:{data:[],loading:!1,pageSize:20,currentPage:1,total:0}}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.$refs["queryBar"].$el;Object(f["d"])(e.$refs["queryPanel"],t),e.query.dateyear=u()(new Date).format("YYYY"),e.getDataList()}))},computed:b({},Object(s["b"])(["getAutoCompanyName"])),methods:Object(o["a"])({handleQueryClick:function(){this.table.currentPage=1,this.getDataList()},handleQuerySearch:function(e,t){if(e.length>=5){var a="postData={'vehino':'".concat(e,"','year':'").concat(this.query.dateyear,"'}");i.a.post("manage/findBxVehicleNo",a,{baseURL:this.baseURL}).then((function(e){for(var a=e.data,n=0;n<a.vehicleNo.length;n++)a.vehicleNo[n].value=a.vehicleNo[n].VEHICLENO;t(a.vehicleNo)}))}},getDataList:function(){var e=this;this.table.loading=!0;var t=u()(this.query.dateyear).format("YYYY"),a="postData={'ptname':'".concat(this.query.ptname,"','year':'").concat(t,"','vehino':'").concat(this.query.vehino,"','pageIndex':'").concat(this.table.currentPage,"','pageSize':'").concat(this.table.pageSize,"' }");i.a.post("manage/findClbxxx",a,{baseURL:this.baseURL}).then((function(t){var a=t.data;e.table.data=a.datas,e.table.total=parseInt(a.count),setTimeout((function(){e.table.loading=!1}),600)}))},handleCarfocus:function(){var e=this.query.vehino;""===e&&(this.query.vehino="浙A")},handleTablePageCurrentChange:function(e){this.table.currentPage=e,this.getDataList()},timeFormatter:function(e,t,a){return u()(a).format("YYYY-MM-DD HH:mm:ss")}},"timeFormatter",(function(e,t,a){return u()(a).format("YYYY-MM-DD")}))},h=d,g=a("2877"),y=Object(g["a"])(h,n,r,!1,null,"6d2e8b6f",null);t["default"]=y.exports},"8e6e":function(e,t,a){var n=a("5ca1"),r=a("990b"),o=a("6821"),c=a("11e9"),i=a("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){var t,a,n=o(e),l=c.f,u=r(n),s={},f=0;while(u.length>f)a=l(n,t=u[f++]),void 0!==a&&i(s,t,a);return s}})},9093:function(e,t,a){var n=a("ce10"),r=a("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},"990b":function(e,t,a){var n=a("9093"),r=a("2621"),o=a("cb7c"),c=a("7726").Reflect;e.exports=c&&c.ownKeys||function(e){var t=n.f(o(e)),a=r.f;return a?t.concat(a(e)):t}},ade3:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},bbd5:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return i}));a("5c96");var n=a("c46f");function r(e){return 0===e.indexOf("icon-")?"iconfont ".concat(e):0===e.indexOf("el-icon-")?e:""}function o(e){var t=0;return e instanceof Array||e.offsetHeight?(e instanceof Array?n["a"].each(e,(function(e){try{t+=parseInt(e.offsetHeight)}catch(a){console.error(a)}})):t=parseInt(e.offsetHeight),"calc(100% - ".concat(t,"px)")):""}function c(e,t,a){a&&a(),e.style.height=o(t),window.addEventListener("resize",(function(){e.style.height=o(t),a&&a()}))}function i(e){var t=e.data,a=e.pageSize,r=e.currentPage,o=r-1;return n["a"].filter(t,(function(e,t){return t>=o*a&&t<r*a}))}},f1ae:function(e,t,a){"use strict";var n=a("86cc"),r=a("4630");e.exports=function(e,t,a){t in e?n.f(e,t,r(0,a)):e[t]=a}}}]);
//# sourceMappingURL=chunk-394d591d.bf36efe2.js.map