(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f7b8bc2"],{"02f4":function(e,a,t){var i=t("4588"),r=t("be13");e.exports=function(e){return function(a,t){var n,l,o=String(r(a)),s=i(t),c=o.length;return s<0||s>=c?e?"":void 0:(n=o.charCodeAt(s),n<55296||n>56319||s+1===c||(l=o.charCodeAt(s+1))<56320||l>57343?e?o.charAt(s):n:e?o.slice(s,s+2):l-56320+(n-55296<<10)+65536)}}},"0390":function(e,a,t){"use strict";var i=t("02f4")(!0);e.exports=function(e,a,t){return a+(t?i(e,a).length:1)}},"0bf2":function(e,a,t){},"0bfb":function(e,a,t){"use strict";var i=t("cb7c");e.exports=function(){var e=i(this),a="";return e.global&&(a+="g"),e.ignoreCase&&(a+="i"),e.multiline&&(a+="m"),e.unicode&&(a+="u"),e.sticky&&(a+="y"),a}},"214f":function(e,a,t){"use strict";t("b0c5");var i=t("2aba"),r=t("32e9"),n=t("79e5"),l=t("be13"),o=t("2b4c"),s=t("520a"),c=o("species"),p=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),m=function(){var e=/(?:)/,a=e.exec;e.exec=function(){return a.apply(this,arguments)};var t="ab".split(e);return 2===t.length&&"a"===t[0]&&"b"===t[1]}();e.exports=function(e,a,t){var d=o(e),u=!n((function(){var a={};return a[d]=function(){return 7},7!=""[e](a)})),g=u?!n((function(){var a=!1,t=/a/;return t.exec=function(){return a=!0,null},"split"===e&&(t.constructor={},t.constructor[c]=function(){return t}),t[d](""),!a})):void 0;if(!u||!g||"replace"===e&&!p||"split"===e&&!m){var f=/./[d],h=t(l,d,""[e],(function(e,a,t,i,r){return a.exec===s?u&&!r?{done:!0,value:f.call(a,t,i)}:{done:!0,value:e.call(t,a,i)}:{done:!1}})),v=h[0],b=h[1];i(String.prototype,e,v),r(RegExp.prototype,d,2==a?function(e,a){return b.call(e,this,a)}:function(e){return b.call(e,this)})}}},"28a5":function(e,a,t){"use strict";var i=t("aae3"),r=t("cb7c"),n=t("ebd6"),l=t("0390"),o=t("9def"),s=t("5f1b"),c=t("520a"),p=t("79e5"),m=Math.min,d=[].push,u="split",g="length",f="lastIndex",h=4294967295,v=!p((function(){RegExp(h,"y")}));t("214f")("split",2,(function(e,a,t,p){var b;return b="c"=="abbc"[u](/(b)*/)[1]||4!="test"[u](/(?:)/,-1)[g]||2!="ab"[u](/(?:ab)*/)[g]||4!="."[u](/(.?)(.?)/)[g]||"."[u](/()()/)[g]>1||""[u](/.?/)[g]?function(e,a){var r=String(this);if(void 0===e&&0===a)return[];if(!i(e))return t.call(r,e,a);var n,l,o,s=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,u=void 0===a?h:a>>>0,v=new RegExp(e.source,p+"g");while(n=c.call(v,r)){if(l=v[f],l>m&&(s.push(r.slice(m,n.index)),n[g]>1&&n.index<r[g]&&d.apply(s,n.slice(1)),o=n[0][g],m=l,s[g]>=u))break;v[f]===n.index&&v[f]++}return m===r[g]?!o&&v.test("")||s.push(""):s.push(r.slice(m)),s[g]>u?s.slice(0,u):s}:"0"[u](void 0,0)[g]?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,i){var r=e(this),n=void 0==t?void 0:t[a];return void 0!==n?n.call(t,r,i):b.call(String(r),t,i)},function(e,a){var i=p(b,e,this,a,b!==t);if(i.done)return i.value;var c=r(e),d=String(this),u=n(c,RegExp),g=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),y=new u(v?c:"^(?:"+c.source+")",f),x=void 0===a?h:a>>>0;if(0===x)return[];if(0===d.length)return null===s(y,d)?[d]:[];var w=0,k=0,M=[];while(k<d.length){y.lastIndex=v?k:0;var C,R=s(y,v?d:d.slice(k));if(null===R||(C=m(o(y.lastIndex+(v?0:k)),d.length))===w)k=l(d,k,g);else{if(M.push(d.slice(w,k)),M.length===x)return M;for(var E=1;E<=R.length-1;E++)if(M.push(R[E]),M.length===x)return M;k=w=C}}return M.push(d.slice(w)),M}]}))},"520a":function(e,a,t){"use strict";var i=t("0bfb"),r=RegExp.prototype.exec,n=String.prototype.replace,l=r,o="lastIndex",s=function(){var e=/a/,a=/b*/g;return r.call(e,"a"),r.call(a,"a"),0!==e[o]||0!==a[o]}(),c=void 0!==/()??/.exec("")[1],p=s||c;p&&(l=function(e){var a,t,l,p,m=this;return c&&(t=new RegExp("^"+m.source+"$(?!\\s)",i.call(m))),s&&(a=m[o]),l=r.call(m,e),s&&l&&(m[o]=m.global?l.index+l[0].length:a),c&&l&&l.length>1&&n.call(l[0],t,(function(){for(p=1;p<arguments.length-2;p++)void 0===arguments[p]&&(l[p]=void 0)})),l}),e.exports=l},"538d":function(e,a,t){"use strict";var i=t("0bf2"),r=t.n(i);r.a},5485:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"tw-template-wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.mapQueryPanel,expression:"mapQueryPanel"}],staticClass:"tw-map-left-panel"},[t("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.tabs.display,expression:"tabs.display"}],attrs:{type:"card",stretch:!0},model:{value:e.tabs.active,callback:function(a){e.$set(e.tabs,"active",a)},expression:"tabs.active"}},[t("el-tab-pane",{attrs:{label:"在线无证车辆",name:"clxqlb"}},[t("div",{staticClass:"tab-info"},[t("el-table",{attrs:{data:e.areaList,"row-class-name":e.tableRowClassName},on:{"row-click":e.handleSearchForClick}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"NAME",width:"100",label:"区域"}}),t("el-table-column",{attrs:{align:"center",prop:"NUM",label:"车辆数"}})],1)],1)]),t("el-tab-pane",{attrs:{label:"无证车辆列表",name:"vhiclist"}},[t("div",{staticClass:"tab-info"},[t("el-table",{staticStyle:{width:"100%",height:"800px",overflow:"auto"},attrs:{data:e.tabs.data},on:{"row-click":e.vehilistClick}},[t("el-table-column",{attrs:{prop:"vehName",label:"平台名称",width:"180"}}),t("el-table-column",{attrs:{prop:"vehino",label:"车牌号码",width:"180"}})],1)],1)])],1)],1),t("div",{staticClass:"map-box",attrs:{id:"arcgisMap"}})])},r=[],n=(t("28a5"),t("3835")),l=t("bc3a"),o=t.n(l),s=t("c46f"),c=t("c1df"),p=t.n(c),m=t("6e58"),d=t("bbd5"),u=t("1157"),g=t.n(u),f={name:"SpecificAreaMonitor",data:function(){return{tabs:{active:"clxqlb",display:!1,data:[],areajwd:""},map:{arcgisMap:null,levelMap:null,dialog:null,marMap:null},loading:!1,mapQueryPanel:!1,fanceQueryPanel:!1,activeAreaNames:0,areaList:[],vehicleList:[],table:{data:[]},currentPage:1,tableRows:10,total:0,totalPages:1,fanceLonding:!1,areaLonding:!1,areaname:"区域名称",tabactiveName:"first",colors:[[51,102,204,.3],[220,57,18,.3],[255,153,0,.3],[16,150,24,.3],[153,0,153,.3],[0,153,198,.3],[221,68,119,.3],[102,170,0,.3],[184,46,46,.3],[49,99,149,.3],[153,68,153,.3],[34,170,153,.3],[170,170,17,.3],[102,51,204,.3],[230,115,0,.3],[139,7,7,.3],[101,16,103,.3],[50,146,98,.3],[85,116,166,.3],[59,62,172,.3]]}},mounted:function(){var e=this;this.$nextTick((function(){var a=e;e.mapQueryPanel=!0;try{Object(m["a"])(["esri/map","esri/basemaps","esri/layers/GraphicsLayer","esri/lang","dijit/TooltipDialog","dijit/popup","dojo/dom-style"]).then((function(t){var i=Object(n["a"])(t,7),r=i[0],l=i[1],o=i[2],s=i[3],c=i[4],p=i[5],d=i[6];l.mapLayerPath=m["b"],e.map.arcgisMap=new r("arcgisMap",{basemap:"mapLayerPath",spatialReference:{wkid:4326},center:[120.197521,30.24298],zoom:3}),a.map.arcgisMap.infoWindow.resize(245,125),a.map.dialog=new c({style:"position: absolute; width: 350px; font: normal normal normal 10pt Helvetica;z-index:100"}),a.map.dialog.startup(),e.map.arcgisMap.on("load",(function(){e.map.levelMap=new o({id:"levelmap"}),e.map.arcgisMap.addLayer(e.map.levelMap),e.map.marMap=new o({id:"marMap"}),e.map.arcgisMap.addLayer(e.map.marMap),e.getareajwd(),a.map.marMap.on("click",(function(e){g()(".mapDialog").hide(),p.close(a.map.dialog);var t=e.graphic.attributes,i='<div class="mapDialog" style=""><div class="mapToolPanel"><TitleCircle><HyperCircle></HyperCircle>网约车-'+t.vehino+'<HyperCircle></HyperCircle><i class="iconfont icon-close"></i></TitleCircle><div class="conent" style="padding-top: 20px;"><div class="rowbox clearfix"><div class="normBox" type="left" style="display: inline-block;"><div class="normTitle">速度</div><div class="normInfo sbig"><span class="intensify">'+t.speed+'</span>KM/H</div></div><div class="normBox" type="right" style="display: inline-block;"><div class="normTitle">营运状态</div><div class="normInfo sbig" style="font-size: 18px">'+a.fomarttype1(t.bizStatus)+'</div></div></div><div class="normBox" type="left"><div class="normTitle">GPS时间</div><div class="normInfo sbig">'+a.fomarttime(t.dateTime)+'</div></div><div class="normBox" type="left"><div class="normTitle">所属公司</div><div class="normInfo sbig">'+t.vehName+"</div></div></div></div></div>",r=s.substitute(e.graphic.attributes,i);a.map.dialog.setContent(r),d.set(a.map.dialog.domNode,"opacity",.85),p.open({popup:a.map.dialog,x:e.pageX,y:e.pageY}),g()(".icon-close").click((function(){g()(".mapDialog").hide(),p.close(a.map.dialog)}))}))}))}))}catch(t){}}))},computed:{tableColumn:function(){return[{prop:"ABB_NAME",label:"平台名称",width:80},{prop:"VEHICLENO",label:"车牌号码",width:90},{prop:"IN_OUT",label:"类型",width:50,"show-overflow-tooltip":!0,formatter:this.fomarttype},{prop:"POSITIONTIME",label:"定位时间","min-width":160,"show-overflow-tooltip":!0,resizable:!1,formatter:this.fomarttime}]},filterDataList:function(){var e=this;return s["a"].filter(this.fanceData,(function(a,t){return(e.currentPage-1)*e.tableRows<=t&&e.currentPage*e.tableRows>t}))}},methods:{iconClassName:d["c"],handleSearchForClick:function(e){this.tabs.areajwd=e.CORE,this.getVehiList(e.ID)},tableRowClassName:function(e){var a=e.row;e.rowIndex;return a.AREA_NUM>a.AREA_AVG_NUM?"danger-row":""},fomarttype:function(e,a,t){return"0"==t?"进":"1"==t?"出":void 0},fomarttype1:function(e){return"1"==e?"载客":"2"==e?"接单":"3"==e?"空驶":"4"==e?"停运":void 0},fomarttime:function(e){return p()(e).format("YYYY-MM-DD HH:mm:ss")},getareajwd:function(){var e=this;o.a.get("map/getareajwd",{baseURL:this.baseURL}).then((function(a){e.areaList=a.data,s["a"].each(a.data,(function(a,t){for(var i=new Array,r=a.JWD.split(";"),n=0;n<r.length;n++){var l=r[n].split(",");i.push([parseFloat(l[0])-.0049,parseFloat(l[1])+.0025])}e.addPolygon(a,i,e.colors[t])}))}))},addPolygon:function(e,a,t){var i=this;Object(m["a"])(["esri/graphic","esri/InfoTemplate","esri/geometry/Polygon","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/Color"]).then((function(r){var l=Object(n["a"])(r,6),o=l[0],s=l[1],c=l[2],p=l[3],m=l[4],d=l[5],u=new s;u.setTitle("区域名  ${NAME}"),u.setContent("区域描述： ${NAME}");var g={rings:[a],spatialReference:{wkid:4326}},f=new c(g);i.map.levelMap.add(new o(f,new p(p.STYLE_SOLID,new m(m.STYLE_SOLID,new d(t),1),new d(t)),e,""))}))},getVehiList:function(e){var a=this;this.tabs.display=!0,o.a.get("map/getGet",{baseURL:this.baseURL,params:{areaid:e,type:"2"}}).then((function(e){a.map.marMap.clear(),a.tabs.display=!1,a.tabs.active="vhiclist",a.tabs.data=e.data,a.map.arcgisMap.centerAndZoom([parseFloat(a.tabs.areajwd.split(",")[0])-.0049,parseFloat(a.tabs.areajwd.split(",")[1])+.0025],5),s["a"].each(e.data,(function(e){a.addmar(e)}))}))},addmar:function(e){var a=this;Object(m["a"])(["esri/geometry/Point","esri/graphic","esri/symbols/PictureMarkerSymbol"]).then((function(t){var i=Object(n["a"])(t,3),r=i[0],l=i[1],o=i[2],s=new r({x:e.longi-.0049,y:e.lati+.0025,spatialReference:{wkid:4326}}),c="";"didi"===e.mdt_no?c="0"==e.legal?"image/marker/ddh.png":"image/marker/dd.png":"shenzhou"===e.mdt_no?c="0"==e.legal?"image/marker/szh.png":"image/marker/sz.png":"caocao"===e.mdt_no?c="0"==e.legal?"image/marker/cch.png":"image/marker/cc.png":"yidao"===e.mdt_no?c="0"==e.legal?"image/marker/ydh.png":"image/marker/yd.png":"aa"===e.mdt_no?c="0"==e.legal?"image/marker/aah.png":"image/marker/aa.png":"yangguangchedao"===e.mdt_no?c="0"==e.legal?"image/marker/ygh.png":"image/marker/yg.png":"wanshun"===e.mdt_no?c="0"==e.legal?"image/marker/wsh.png":"image/marker/ws.png":"shouyue"===e.mdt_no?c="0"==e.legal?"image/marker/syh.png":"image/marker/sy.png":"TJHT"===e.mdt_no?c="0"==e.legal?"image/marker/xcych.png":"image/marker/xcyc.png":"hhyc"===e.mdt_no?c="0"==e.legal?"image/marker/hhdch.png":"image/marker/hhdc.png":"tongcheng"===e.mdt_no?c="0"==e.legal?"image/marker/mzdch.png":"image/marker/mzdc.png":"dccx"===e.mdt_no?c="0"==e.legal?"image/marker/dccxh.png":"image/marker/dccx.png":"xiehua"===e.mdt_no?c="0"==e.legal?"image/marker/xhcxh.png":"image/marker/xhcx.png":"xiangdao"===e.mdt_no?c="0"==e.legal?"image/marker/xdcxh.png":"image/marker/xdcx.png":"weixing"===e.mdt_no?c="0"==e.legal?"image/marker/ycxh.png":"image/marker/ycx.png":"tmcx"===e.mdt_no&&(c="0"==e.legal?"image/marker/tmcxh.png":"image/marker/tmcx.png");var p=o(a.baseURL+c,28,38).setOffset(14,19);a.map.marMap.add(new l(s,p,e,""))}))},vehilistClick:function(e){this.map.marMap.clear(),this.addmar(e),this.map.arcgisMap.centerAndZoom([parseFloat(e.longi)-.0049,parseFloat(e.lati)+.0025],5)},handlePageSizeChange:function(e){this.currentPage=e},fomartyytype:function(e,a,t){return"1"==t?"载客":"2"==t?"接单":"3"==t?"空驶":"4"==t?"停运":void 0}}},h=f,v=(t("538d"),t("2877")),b=Object(v["a"])(h,i,r,!1,null,"6030c0e4",null);a["default"]=b.exports},"5f1b":function(e,a,t){"use strict";var i=t("23c6"),r=RegExp.prototype.exec;e.exports=function(e,a){var t=e.exec;if("function"===typeof t){var n=t.call(e,a);if("object"!==typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,a)}},aae3:function(e,a,t){var i=t("d3f4"),r=t("2d95"),n=t("2b4c")("match");e.exports=function(e){var a;return i(e)&&(void 0!==(a=e[n])?!!a:"RegExp"==r(e))}},b0c5:function(e,a,t){"use strict";var i=t("520a");t("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})}}]);
//# sourceMappingURL=chunk-2f7b8bc2.e5053ce5.js.map