(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c9accdf"],{bbd5:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o}));a("5c96");var l=a("c46f");function r(e){return 0===e.indexOf("icon-")?"iconfont ".concat(e):0===e.indexOf("el-icon-")?e:""}function n(e){var t=0;return e instanceof Array||e.offsetHeight?(e instanceof Array?l["a"].each(e,(function(e){try{t+=parseInt(e.offsetHeight)}catch(a){console.error(a)}})):t=parseInt(e.offsetHeight),"calc(100% - ".concat(t,"px)")):""}function i(e,t,a){a&&a(),e.style.height=n(t),window.addEventListener("resize",(function(){e.style.height=n(t),a&&a()}))}function o(e){var t=e.data,a=e.pageSize,r=e.currentPage,n=r-1;return l["a"].filter(t,(function(e,t){return t>=n*a&&t<r*a}))}},e0f6:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{ref:"queryBar",staticClass:"tw-query-bar",attrs:{inline:!0,model:e.query,size:"small"}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"人员姓名"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1),a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"身份证号"},model:{value:e.query.idcard,callback:function(t){e.$set(e.query,"idcard",t)},expression:"query.idcard"}})],1),a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"手机号码"},model:{value:e.query.phone,callback:function(t){e.$set(e.query,"phone",t)},expression:"query.phone"}})],1),a("el-form-item",[a("el-date-picker",{attrs:{type:"date",placeholder:"核发日期"},model:{value:e.query.stime,callback:function(t){e.$set(e.query,"stime",t)},expression:"query.stime"}})],1),a("el-form-item",{attrs:{label:"-"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"核发日期"},model:{value:e.query.etime,callback:function(t){e.$set(e.query,"etime",t)},expression:"query.etime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.table.loading},on:{click:e.handleQueryClick}},[e._v("查询")])],1)],1),a("div",{ref:"queryPanel",staticClass:"tw-query-panel"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"tw-table",attrs:{data:e.table.data,stripe:"",border:"",height:"calc(100% - 42px)"}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"60",resizable:!1}}),a("el-table-column",{attrs:{align:"center",prop:"DISTRICT",label:"行政区划",width:"250"}}),a("el-table-column",{attrs:{align:"center",prop:"NAME",label:"人员姓名",width:"250"}}),a("el-table-column",{attrs:{align:"center",prop:"ID_NUMBER",label:"身份证号",width:"300"}}),a("el-table-column",{attrs:{align:"center",prop:"CERTI_SUB_CODE",label:"从业资格类别",width:"200"}}),a("el-table-column",{attrs:{align:"center",prop:"STATUS",label:"证照状态",width:"200",formatter:e.statusFormatter}}),a("el-table-column",{attrs:{label:"操作","min-width":"80",align:"center",resizable:!1,fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleTableClick(t.row)}}},[e._v("详情")])]}}])})],1),a("el-pagination",{attrs:{background:"","page-size":e.table.pageSize,"current-page":e.table.currentPage,total:e.table.total},on:{"current-change":e.handleTablePageCurrentChange}})],1),a("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.display,"close-on-click-modal":!1,"custom-class":"dialog-big",width:"1100px"},on:{"update:visible":function(t){return e.$set(e.dialog,"display",t)}}},[a("div",{staticClass:"tw-dialog-title"},[a("div",[e._v("基本信息")])]),a("el-form",{ref:"platformBaseInfo",staticClass:"tw-form",attrs:{"label-position":"right",inline:!0,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{value:e.selectRow.NAME,readonly:""}})],1),a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{value:e.selectRow.ID_NUMBER,readonly:""}})],1),a("el-form-item",{attrs:{label:"资格证号"}},[a("el-input",{attrs:{readonly:""}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-input",{attrs:{value:e.sexFormatter(e.selectRow.SEX),readonly:""}})],1),a("el-form-item",{attrs:{label:"出生日期"}},[a("el-input",{attrs:{value:e.timeFormatter(e.selectRow.BIRTHDAY),readonly:""}})],1),a("el-form-item",{attrs:{label:"民族"}},[a("el-input",{attrs:{value:e.selectRow.NATION,readonly:""}})],1),a("el-form-item",{attrs:{label:"档案号"}},[a("el-input",{attrs:{value:e.selectRow.FILE_NUMBER,readonly:""}})],1),a("el-form-item",{attrs:{label:"所在行政区划"}},[a("el-input",{attrs:{value:e.selectRow.DISTRICT,readonly:""}})],1),a("el-form-item",{attrs:{label:"暂住证号码"}},[a("el-input",{attrs:{readonly:""}})],1),a("el-form-item",{attrs:{label:"身份证地址"}},[a("el-input",{attrs:{value:e.selectRow.ID_ADDR,readonly:""}})],1),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{value:e.selectRow.PHONE,readonly:""}})],1),a("el-form-item",{attrs:{label:"现住地址"}},[a("el-input",{attrs:{value:e.selectRow.LIVING_ADDR,readonly:""}})],1)],1),a("div",{staticClass:"tw-dialog-title",staticStyle:{"margin-top":"10px"}},[a("div",[e._v("资格信息")])]),a("el-form",{ref:"platformBaseInfo",staticClass:"tw-form",attrs:{"label-position":"right",inline:!0,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"证件编号"}},[a("el-input",{attrs:{value:e.selectRow.DRIVER_NUM,readonly:""}})],1),a("el-form-item",{attrs:{label:"从业资格类别"}},[a("el-input",{attrs:{value:e.selectRow.CERTI_SUB_CODE,readonly:""}})],1),a("el-form-item",{attrs:{label:"证件状态"}},[a("el-input",{attrs:{value:e.statusFormatter("","",e.selectRow.STATUS),readonly:""}})],1),a("el-form-item",{attrs:{label:"发证机关"}},[a("el-input",{attrs:{value:e.selectRow.ORGAN_CODE,readonly:""}})],1),a("el-form-item",{attrs:{label:"有效期起"}},[a("el-input",{attrs:{value:e.selectRow.VALID_DATE_BEGIN,readonly:""}})],1),a("el-form-item",{attrs:{label:"有效期止"}},[a("el-input",{attrs:{value:e.selectRow.VALID_DATE_END,readonly:""}})],1),a("el-form-item",{attrs:{label:"初领日期"}},[a("el-input",{attrs:{value:e.selectRow.CERTI_EARLY_DATE,readonly:""}})],1),a("el-form-item",{attrs:{label:"核发日期"}},[a("el-input",{attrs:{value:e.selectRow.PRINT_DATE,readonly:""}})],1)],1)],1)],1)},r=[],n=(a("7f7f"),a("bbd5")),i=a("bc3a"),o=a.n(i),s=a("c1df"),c=a.n(s),u={name:"DriverQuery",data:function(){return{query:{name:"",idcard:"",phone:"",stime:"",etime:""},table:{data:[],loading:!1,pageSize:30,total:0,currentPage:1},dialog:{title:"",display:!1},selectRow:{}}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.$refs["queryBar"].$el;Object(n["d"])(e.$refs["queryPanel"],t),e.getQueryData()}))},methods:{handleTablePageCurrentChange:function(e){this.table.currentPage=e,this.getQueryData()},handleTableClick:function(e){this.selectRow=e,this.dialog.display=!0},getQueryData:function(){var e=this;this.table.loading=!0;var t=this.baseURL,a=this.query,l=a.name,r=a.idcard,n=a.phone,i=a.stime,s=a.etime,u=this.table,d=u.currentPage,m=u.pageSize,f="",p="";i&&(f=c()(i).format("YYYY-MM-DD")),s&&(p=c()(s).format("YYYY-MM-DD"));var b="postData={'name':'".concat(l,"','sfz':'").concat(r,"','phone':'").concat(n,"','begin_time':'").concat(f,"','end_time':'").concat(p,"','pageIndex':'").concat(d,"','pageSize':'").concat(m,"'}");o.a.post("manage/findPerson",b,{baseURL:t}).then((function(t){console.info(t),e.table.loading=!1,e.table.data=t.data.datas,e.table.total=t.data.count}))},handleQueryClick:function(){this.getQueryData()},statusFormatter:function(e,t,a){return"0"==a?"正常":"1"==a?"老系统(弃用)":"0"==a?"注销":a},sexFormatter:function(e){return"2"==e?"女":"1"==e?"男":e},timeFormatter:function(e){if(null!=e)return c()(e).format("YYYY-MM-DD")}}},d=u,m=a("2877"),f=Object(m["a"])(d,l,r,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-0c9accdf.367f0bab.js.map