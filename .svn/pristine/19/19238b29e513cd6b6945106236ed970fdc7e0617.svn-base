(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1727"],{"45a1":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{ref:"queryBar",staticClass:"tw-query-bar",attrs:{inline:!0,model:e.query,size:"small"}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:e.query.stime,callback:function(t){e.$set(e.query,"stime",t)},expression:"query.stime"}})],1),a("el-form-item",[a("el-date-picker",{attrs:{type:"date",placeholder:"截止日期"},model:{value:e.query.etime,callback:function(t){e.$set(e.query,"etime",t)},expression:"query.etime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleQueryClick}},[e._v("查询")])],1)],1),a("div",{ref:"queryPanel",staticClass:"tw-query-panel"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"tw-table no-highlight",attrs:{data:e.table.data,border:"",size:"small",height:"100%","highlight-current-row":!1,stripe:"","span-method":e.spanMethod}},[a("el-table-column",{attrs:{label:"日期",prop:"DBTIME",align:"center",formatter:e.formatterTableTime,"min-width":"130"}}),a("el-table-column",{attrs:{label:"每日派单",align:"center"}},[a("el-table-column",{attrs:{label:"派单总量(单)",prop:"CREATE_ORDER_NUM",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"昨日环比(%)",prop:"CREATE_YESTERDAY",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"上周同比(%)",prop:"CREATE_LASTWEEK",align:"center",width:"105"}})],1),a("el-table-column",{attrs:{label:"每日完单",align:"center"}},[a("el-table-column",{attrs:{label:"完单总量(单)",prop:"DEP_ORDER_NUM",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"昨日环比(%)",prop:"DEP_YESTERDAY",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"上周同比(%)",prop:"DEP_LASTWEEK",align:"center",width:"105"}})],1),a("el-table-column",{attrs:{label:"活跃车辆",align:"center"}},[a("el-table-column",{attrs:{label:"接单车数(辆)",prop:"DEP_ORDER_VEH",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"昨日环比(%)",prop:"VEH_YESTERDAY",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"上周同比(%)",prop:"VEH_LASTWEEK",align:"center",width:"105"}})],1),a("el-table-column",{attrs:{label:"网约车完单率",prop:"END_ORDER",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"当日热点区域分析",align:"center"}},[a("el-table-column",{attrs:{label:"当日热点区域",prop:"AREA_NAME",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"热点区域订单数",prop:"AREA_NUM",align:"center",width:"105"}})],1),a("el-table-column",{attrs:{label:"当日热点时段分析",align:"center"}},[a("el-table-column",{attrs:{label:"当日热点时段",prop:"HOT_TIME",align:"center",width:"105"}}),a("el-table-column",{attrs:{label:"热点时段订单数",prop:"TIME_NUM",align:"center",width:"105"}})],1)],1)],1)],1)},n=[],r=a("c1df"),i=a.n(r),s=a("bc3a"),o=a.n(s),c=a("c46f"),u={name:"CapacityAnalysisReport",data:function(){return{query:{stime:i()(new Date).add(-3,"days"),etime:i()(new Date).add(-1,"days")},table:{data:[],loading:!1,pageSize:150,total:0,currentPage:1},tableSummary:[]}},mounted:function(){this.getTableDataList()},methods:{formatterTableTime:function(e,t,a){return i()(a).format("YYY-MM-DD")},formatterTableData:function(e){var t=c["a"].uniq(c["a"].pluck(e,"DBTIME")),a=0;c["a"].each(e,(function(l){l.DBTIME==t[a]&&(l.num=c["a"].filter(e,(function(e){return e.DBTIME===l.DBTIME})).length,a+=1)})),this.table.data=e},spanMethod:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);if(11!=a&&12!=a&&13!=a&&14!=a)return t.num?{rowspan:5,colspan:1}:{rowspan:0,colspan:0}},handleTablePageCurrentChange:function(e){this.table.currentPage=e,this.getTableDataList()},handleQueryClick:function(){this.getTableDataList()},getTableDataList:function(){var e=this;this.table.loading=!0;var t=this.baseURL,a=this.table,l=a.pageSize,n=a.currentPage,r=this.query,s=r.stime,c=r.etime;o.a.get("data/getAnalyze",{baseURL:t,params:{page:n,pageSize:l,stime:s?i()(s).format("YYYY-MM-DD"):"",etime:c?i()(c).format("YYYY-MM-DD"):""}}).then((function(t){e.table.total=t.data.count,e.formatterTableData(t.data.datas),e.table.loading=!1}))}},watch:{"query.stime":{handler:function(e,t){var a=this.query,l=a.stime,n=a.etime,r=i()(n).diff(i()(l),"days");r>30&&(this.$message({message:"时间间隔不能超过30天",type:"warning"}),this.query.stime=t),r<0&&(this.$message({message:"开始时间不得大于结束时间",type:"warning"}),this.query.stime=t)}},"query.etime":{handler:function(e,t){var a=this.query,l=a.stime,n=a.etime,r=i()(n).diff(i()(l),"days");r>30&&(this.$message({message:"时间间隔不能超过30天",type:"warning"}),this.query.etime=t),r<0&&(this.$message({message:"结束时间不得小于开始时间",type:"warning"}),this.query.etime=t)}}}},m=u,b=a("2877"),d=Object(b["a"])(m,l,n,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0c1727.05349173.js.map