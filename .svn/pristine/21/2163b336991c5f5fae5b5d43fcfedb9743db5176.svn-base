(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70b04a19"],{8900:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{ref:"queryBar",staticClass:"tw-query-bar",attrs:{inline:!0,model:t.query,size:"small"}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:t.query.stime,callback:function(e){t.$set(t.query,"stime",e)},expression:"query.stime"}})],1),a("el-form-item",[a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:t.query.etime,callback:function(e){t.$set(t.query,"etime",e)},expression:"query.etime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleQueryClick}},[t._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleExportClick}},[t._v("导出")])],1)],1),a("div",{ref:"queryPanel",staticClass:"tw-query-panel"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],staticClass:"tw-table",attrs:{data:t.showcase,border:"",size:"small",height:"81px"}},[a("el-table-column",{attrs:{prop:"VALUE",label:"统计日期",align:"center"}}),a("el-table-column",{attrs:{prop:"SUM_ORDER_NUMBER",label:"日均订单总量",align:"center"}}),a("el-table-column",{attrs:{prop:"SUM_DRIVER_OUT_NUMBER",label:"日均出车量",align:"center"}}),a("el-table-column",{attrs:{prop:"RATE",label:"日均出车率",align:"center",resizable:!1}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],staticClass:"tw-table",attrs:{data:t.filterTableList,border:"",size:"small",height:"calc(100% - 132px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"FORMAT_DATE",label:"统计日期"}}),a("el-table-column",{attrs:{prop:"ORDER_NUMBER",label:"订单量"}}),a("el-table-column",{attrs:{prop:"DRIVER_OUT_NUMBER",label:"出车量"}}),a("el-table-column",{attrs:{prop:"PERMIT_NUMBER",label:"杭州许可总量"}}),a("el-table-column",{attrs:{prop:"RATE",label:"出车率",resizable:!1}})],1),a("el-pagination",{attrs:{background:"","page-size":t.table.pageSize,"current-page":t.table.currentPage,total:t.table.total},on:{"current-change":t.handleTablePageCurrentChange}})],1)],1)},r=[],i=a("c46f"),l=a("bc3a"),s=a.n(l),o=a("c1df"),c=a.n(o),u=a("bbd5"),d={name:"OperatingOutboundStatistics",data:function(){return{query:{stime:"",etime:""},table:{loading:!1,data:[],pageSize:20,currentPage:1,total:0},showcase:[]}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$refs["queryBar"].$el;Object(u["d"])(t.$refs["queryPanel"],e),t.query.stime=c()().format("YYYY-MM-01"),t.query.etime=c()().subtract(1,"days").format("YYYY-MM-DD"),t.getOperatingOutboundStatistics()}))},computed:{filterTableList:function(){var t=this.table,e=t.data,a=t.pageSize,n=t.currentPage,r=n-1;return i["a"].filter(e,(function(t,e){return e>=r*a&&e<n*a}))}},methods:{getOperatingOutboundStatistics:function(){var t=this,e=this.query,a=e.stime,n=e.etime;a&&n&&""!=a&&""!=n?(this.table.loading=!0,s.a.get("getIndustryOperationalAnalysisAction/getOperatingOutboundStatistics",{baseURL:this.baseURL,params:{sTime:a&&c()(a).format("YYYY-MM-DD"),eTime:n&&c()(n).format("YYYY-MM-DD")}}).then((function(e){t.showcase=e.data.statistics||[],console.info(e.data.statistics),t.table.data=e.data.datas||[],t.table.currentPage=1,t.table.total=t.table.data.length,setTimeout((function(){t.table.loading=!1}),500)}))):this.$message({message:"请填写时间选项",type:"warning"})},handleQueryClick:function(){this.table.currentPage=1,this.getOperatingOutboundStatistics()},handleExportClick:function(){var t=this,e=this.query,a=e.stime,n=e.etime;this.$confirm("是否需要导出?","提示",{confirmButtonText:"是",cancelButtonText:"否",cancelButtonClass:"el-button--danger",closeOnClickModal:!1,type:"info",center:!0}).then((function(){window.open("".concat(t.baseURL,"getIndustryOperationalAnalysisAction/getOperatingOutboundStatisticsExcel?sTime=").concat(a&&c()(a).format("YYYY-MM-DD"),"&eTime=").concat(n&&c()(n).format("YYYY-MM-DD")))})).catch((function(){}))},handleTablePageCurrentChange:function(t){this.table.currentPage=t}}},b=d,p=a("2877"),f=Object(p["a"])(b,n,r,!1,null,"5262cfca",null);e["default"]=f.exports},bbd5:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return s}));a("5c96");var n=a("c46f");function r(t){return 0===t.indexOf("icon-")?"iconfont ".concat(t):0===t.indexOf("el-icon-")?t:""}function i(t){var e=0;return t instanceof Array||t.offsetHeight?(t instanceof Array?n["a"].each(t,(function(t){try{e+=parseInt(t.offsetHeight)}catch(a){console.error(a)}})):e=parseInt(t.offsetHeight),"calc(100% - ".concat(e,"px)")):""}function l(t,e,a){a&&a(),t.style.height=i(e),window.addEventListener("resize",(function(){t.style.height=i(e),a&&a()}))}function s(t){var e=t.data,a=t.pageSize,r=t.currentPage,i=r-1;return n["a"].filter(e,(function(t,e){return e>=i*a&&e<r*a}))}}}]);
//# sourceMappingURL=chunk-70b04a19.9e914dca.js.map